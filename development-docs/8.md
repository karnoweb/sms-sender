

# ÙØ§Ø² Û¸ â€” Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†ØªÛŒØ´Ù† Ø¬Ø§Ù…Ø¹

## Ø³Ø§Ø®ØªØ§Ø±

```
docs/
â”œâ”€â”€ 00-index.md
â”œâ”€â”€ 01-overview.md
â”œâ”€â”€ 02-installation.md
â”œâ”€â”€ 03-configuration.md
â”œâ”€â”€ 04-basic-usage.md
â”œâ”€â”€ 05-templates.md
â”œâ”€â”€ 06-drivers.md
â”œâ”€â”€ 07-failover.md
â”œâ”€â”€ 08-delivery-report.md
â”œâ”€â”€ 09-usage-handler.md
â”œâ”€â”€ 10-custom-driver.md
â”œâ”€â”€ 11-testing.md
â””â”€â”€ 12-api-reference.md
```

---

## `docs/00-index.md`

```markdown
# ğŸ“– Ù…Ø³ØªÙ†Ø¯Ø§Øª Ù¾Ú©ÛŒØ¬ SMS Sender

ÛŒÚ© Ù„Ø§ÛŒÙ‡â€ŒÛŒ Ø§Ù†ØªØ²Ø§Ø¹ÛŒ Fluent Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú© Ø¯Ø± Ù„Ø§Ø±Ø§ÙˆÙ„ Ø¨Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² Ú†Ù†Ø¯ Ø¯Ø±Ø§ÛŒÙˆØ± Ùˆ Failover Ø®ÙˆØ¯Ú©Ø§Ø±.

---

## ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨

| # | Ø¹Ù†ÙˆØ§Ù† | ØªÙˆØ¶ÛŒØ­ |
|---|-------|-------|
| 01 | [Ù…Ø¹Ø±ÙÛŒ](01-overview.md) | Ù‡Ø¯Ù Ù¾Ú©ÛŒØ¬ØŒ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ Ùˆ Ù…Ø¹Ù…Ø§Ø±ÛŒ |
| 02 | [Ù†ØµØ¨](02-installation.md) | Ù†Ø­ÙˆÙ‡â€ŒÛŒ Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ |
| 03 | [Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ](03-configuration.md) | ÙØ§ÛŒÙ„ config Ùˆ ØªÙ†Ø¸ÛŒÙ…Ø§Øª |
| 04 | [Ø§Ø³ØªÙØ§Ø¯Ù‡â€ŒÛŒ Ù¾Ø§ÛŒÙ‡](04-basic-usage.md) | Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú© Ø³Ø§Ø¯Ù‡ |
| 05 | [Ù‚Ø§Ù„Ø¨â€ŒÙ‡Ø§](05-templates.md) | Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Template Ùˆ Placeholder |
| 06 | [Ø¯Ø±Ø§ÛŒÙˆØ±Ù‡Ø§](06-drivers.md) | Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø±Ø§ÛŒÙˆØ±Ù‡Ø§ Ùˆ Ù†Ø­ÙˆÙ‡â€ŒÛŒ Ú©Ø§Ø± |
| 07 | [Failover](07-failover.md) | Ø³ÙˆØ¦ÛŒÚ† Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨ÛŒÙ† Ø¯Ø±Ø§ÛŒÙˆØ±Ù‡Ø§ |
| 08 | [ÙˆØ¶Ø¹ÛŒØª ØªØ­ÙˆÛŒÙ„](08-delivery-report.md) | Ø¨Ø±Ø±Ø³ÛŒ Delivery Report |
| 09 | [Ú©Ù†ØªØ±Ù„ Ù…ØµØ±Ù](09-usage-handler.md) | Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø±ÙˆØ²Ø§Ù†Ù‡/Ù…Ø§Ù‡Ø§Ù†Ù‡ |
| 10 | [Ø³Ø§Ø®Øª Ø¯Ø±Ø§ÛŒÙˆØ± Ø³ÙØ§Ø±Ø´ÛŒ](10-custom-driver.md) | Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡â€ŒØ¯Ù‡Ù†Ø¯Ù‡ |
| 11 | [ØªØ³Øª](11-testing.md) | ØªØ³Øª Ø¯Ø± Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ùˆ Ù¾Ú©ÛŒØ¬ |
| 12 | [Ù…Ø±Ø¬Ø¹ API](12-api-reference.md) | Ù„ÛŒØ³Øª Ú©Ø§Ù…Ù„ Ù…ØªØ¯Ù‡Ø§ Ùˆ Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ |

---

## Ø´Ø±ÙˆØ¹ Ø³Ø±ÛŒØ¹

```bash
composer require karnoweb/sms-sender
```

```php
use Karnoweb\SmsSender\Facades\Sms;

Sms::message('Ø³Ù„Ø§Ù… Ø¯Ù†ÛŒØ§')
    ->number('09120000000')
    ->send();
```

Ø¨Ø±Ø§ÛŒ Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨ÛŒØ´ØªØ±ØŒ Ø§Ø² [Ù†ØµØ¨](02-installation.md) Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØ¯.
```

---

## `docs/01-overview.md`

```markdown
# 01 â€” Ù…Ø¹Ø±ÙÛŒ

## Ù‡Ø¯Ù Ù¾Ú©ÛŒØ¬

**SMS Sender** ÛŒÚ© Ù„Ø§ÛŒÙ‡â€ŒÛŒ Ø§Ù†ØªØ²Ø§Ø¹ÛŒ Ø³Ø·Ø­ Ø¨Ø§Ù„Ø§ Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú© Ø¯Ø± Ù„Ø§Ø±Ø§ÙˆÙ„ Ø§Ø³Øª Ú©Ù‡ Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ø±Ø§ Ø§Ø² Ø¬Ø²Ø¦ÛŒØ§Øª
Ø³Ø±ÙˆÛŒØ³â€ŒØ¯Ù‡Ù†Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ù¾ÛŒØ§Ù…Ú© Ø¬Ø¯Ø§ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù† Ø´Ù…Ø§                    â”‚
â”‚                                             â”‚
â”‚   Sms::message('Ø³Ù„Ø§Ù…')->number('09..')->send()  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚   SmsManager    â”‚  â† Builder + Failover + Logger
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚             â”‚             â”‚
â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
â”‚ Driver A â”‚  â”‚ Driver B â”‚  â”‚ Driver C â”‚
â”‚(Ú©Ø§ÙˆÙ‡â€ŒÙ†Ú¯Ø§Ø±) â”‚  â”‚(Ù…Ù„ÛŒâ€ŒÙ¾ÛŒØ§Ù…Ú©)â”‚  â”‚ (ÙØ±Ø§Ø²)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§

### ğŸ”— Ø±Ø§Ø¨Ø· Fluent
API Ø²Ù†Ø¬ÛŒØ±Ù‡â€ŒØ§ÛŒ Ùˆ Ø®ÙˆØ§Ù†Ø§ Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®Øª Ùˆ Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú©:

```php
Sms::otp(SmsTemplateEnum::LOGIN_OTP)
    ->input('code', '1234')
    ->number('09120000000')
    ->send();
```

### ğŸ”„ Failover Ø®ÙˆØ¯Ú©Ø§Ø±
Ø§Ú¯Ø± Ø¯Ø±Ø§ÛŒÙˆØ± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø´Ú©Ø³Øª Ø¨Ø®ÙˆØ±Ø¯ØŒ Ø³ÛŒØ³ØªÙ… Ø¨Ù‡ ØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± Ø¯Ø±Ø§ÛŒÙˆØ± Ø¨Ø¹Ø¯ÛŒ Ø±Ø§ Ø§Ù…ØªØ­Ø§Ù† Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

### ğŸ“ Ø«Ø¨Øª Ù„Ø§Ú¯
Ù‡Ø± ØªÙ„Ø§Ø´ Ø§Ø±Ø³Ø§Ù„ (Ù…ÙˆÙÙ‚ ÛŒØ§ Ù†Ø§Ù…ÙˆÙÙ‚) Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø«Ø¨Øª Ù…ÛŒâ€ŒØ´ÙˆØ¯.

### ğŸ“Š Delivery Report
Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª ØªØ­ÙˆÛŒÙ„ Ù¾ÛŒØ§Ù…Ú©â€ŒÙ‡Ø§ Ø§Ø² Ø·Ø±ÛŒÙ‚ API Ø³Ø±ÙˆÛŒØ³â€ŒØ¯Ù‡Ù†Ø¯Ù‡.

### ğŸ”Œ Ù‚Ø§Ø¨Ù„ Ú¯Ø³ØªØ±Ø´
Ø§ÙØ²ÙˆØ¯Ù† Ø¯Ø±Ø§ÛŒÙˆØ± Ø¬Ø¯ÛŒØ¯ ÙÙ‚Ø· Ø¨Ø§ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ ÛŒÚ© Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ Ùˆ Ø«Ø¨Øª Ø¯Ø± config.

### âš™ï¸ Ú©Ù†ØªØ±Ù„ Ù…ØµØ±Ù
Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø±ÙˆØ²Ø§Ù†Ù‡/Ù…Ø§Ù‡Ø§Ù†Ù‡ Ùˆ ÙØ¹Ø§Ù„/ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø¯Ø±Ø§ÛŒÙˆØ±Ù‡Ø§.

---

## Ù…Ø¹Ù…Ø§Ø±ÛŒ

```
Karnoweb\SmsSender\
â”œâ”€â”€ SmsManager              Ù‡Ø³ØªÙ‡â€ŒÛŒ Ø§ØµÙ„ÛŒ (Builder + Send + CheckStatus)
â”œâ”€â”€ SmsServiceProvider      Ø«Ø¨Øª Ø¯Ø± Container Ù„Ø§Ø±Ø§ÙˆÙ„
â”œâ”€â”€ Facades\Sms             Facade Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø³Ø§Ø¯Ù‡
â”œâ”€â”€ Contracts\
â”‚   â”œâ”€â”€ SmsDriver           Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø¯Ø±Ø§ÛŒÙˆØ±Ù‡Ø§
â”‚   â”œâ”€â”€ DeliveryReportFetcher  Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Delivery Report (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
â”‚   â””â”€â”€ SmsUsageHandler     Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ú©Ù†ØªØ±Ù„ Ù…ØµØ±Ù
â”œâ”€â”€ Drivers\
â”‚   â””â”€â”€ NullDriver          Ø¯Ø±Ø§ÛŒÙˆØ± Ø®Ø§Ù„ÛŒ (ØªÙˆØ³Ø¹Ù‡/ØªØ³Øª)
â”œâ”€â”€ Models\
â”‚   â””â”€â”€ Sms                 Ù…Ø¯Ù„ Ù„Ø§Ú¯ Ù¾ÛŒØ§Ù…Ú©
â”œâ”€â”€ Enums\
â”‚   â”œâ”€â”€ SmsSendStatusEnum   ÙˆØ¶Ø¹ÛŒØª Ø§Ø±Ø³Ø§Ù„
â”‚   â””â”€â”€ SmsTemplateEnum     Ù‚Ø§Ù„Ø¨â€ŒÙ‡Ø§ÛŒ Ø§Ø² Ù¾ÛŒØ´ ØªØ¹Ø±ÛŒÙâ€ŒØ´Ø¯Ù‡
â”œâ”€â”€ Exceptions\
â”‚   â”œâ”€â”€ SmsException        Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒÙ‡
â”‚   â”œâ”€â”€ InvalidDriverConfigurationException
â”‚   â”œâ”€â”€ DriverConnectionException
â”‚   â””â”€â”€ DriverNotAvailableException
â””â”€â”€ Support\
    â”œâ”€â”€ NullUsageHandler    Ø¨Ø¯ÙˆÙ† Ù…Ø­Ø¯ÙˆØ¯ÛŒØª (Ù¾ÛŒØ´â€ŒÙØ±Ø¶)
    â””â”€â”€ DefaultUsageHandler Ú©Ù†ØªØ±Ù„ Ù…ØµØ±Ù ÙˆØ§Ù‚Ø¹ÛŒ
```

---

## Ø§Ù„Ø²Ø§Ù…Ø§Øª

- PHP 8.2+
- Laravel 11.x ÛŒØ§ 12.x

---

## Ø¨Ø¹Ø¯ÛŒ

â†’ [Ù†ØµØ¨](02-installation.md)
```

---

## `docs/02-installation.md`

```markdown
# 02 â€” Ù†ØµØ¨

## Ù†ØµØ¨ Ø¨Ø§ Composer

```bash
composer require karnoweb/sms-sender
```

Ù¾Ú©ÛŒØ¬ Ø§Ø² **Auto-Discovery** Ù„Ø§Ø±Ø§ÙˆÙ„ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ù†ÛŒØ§Ø²ÛŒ Ø¨Ù‡ Ø«Ø¨Øª Ø¯Ø³ØªÛŒ
Service Provider Ùˆ Facade Ù†ÛŒØ³Øª.

---

## Ø§Ù†ØªØ´Ø§Ø± ÙØ§ÛŒÙ„â€ŒÙ‡Ø§

### ÙØ§ÛŒÙ„ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ

```bash
php artisan vendor:publish --tag=sms-config
```

ÙØ§ÛŒÙ„ `config/sms.php` Ø¯Ø± Ù¾Ø±ÙˆÚ˜Ù‡â€ŒÛŒ Ø´Ù…Ø§ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒâ€ŒØ´ÙˆØ¯.

### ÙØ§ÛŒÙ„ Migration

```bash
php artisan vendor:publish --tag=sms-migrations
```

Migration Ø¬Ø¯ÙˆÙ„ `sms_messages` Ø¨Ù‡ Ù¾ÙˆØ´Ù‡â€ŒÛŒ `database/migrations` Ù…Ù†ØªÙ‚Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯.

### Ø§Ø¬Ø±Ø§ÛŒ Migration

```bash
php artisan migrate
```

---

## ØªÙ†Ø¸ÛŒÙ… Ù…ØªØºÛŒØ± Ù…Ø­ÛŒØ·ÛŒ

Ø¯Ø± ÙØ§ÛŒÙ„ `.env`:

```dotenv
SMS_DRIVER=null
```

Ù…Ù‚Ø¯Ø§Ø± `null` Ø¨Ø±Ø§ÛŒ Ù…Ø­ÛŒØ· ØªÙˆØ³Ø¹Ù‡ Ù…Ù†Ø§Ø³Ø¨ Ø§Ø³Øª Ùˆ Ù‡ÛŒÚ† Ù¾ÛŒØ§Ù…Ú©ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

---

## Ø¨Ø±Ø±Ø³ÛŒ Ù†ØµØ¨

```php
use Karnoweb\SmsSender\Facades\Sms;

// Ø¨Ø§ Ø¯Ø±Ø§ÛŒÙˆØ± nullØŒ Ù‡ÛŒÚ† Ù¾ÛŒØ§Ù…Ú©ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯
// ÙˆÙ„ÛŒ Ù„Ø§Ú¯ Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø«Ø¨Øª Ù…ÛŒâ€ŒØ´ÙˆØ¯
Sms::message('ØªØ³Øª Ù†ØµØ¨')
    ->number('09120000000')
    ->send();
```

Ø§Ú¯Ø± Ø¨Ø¯ÙˆÙ† Ø®Ø·Ø§ Ø§Ø¬Ø±Ø§ Ø´Ø¯ Ùˆ ÛŒÚ© Ø±Ú©ÙˆØ±Ø¯ Ø¯Ø± Ø¬Ø¯ÙˆÙ„ `sms_messages` Ø«Ø¨Øª Ø´Ø¯ØŒ Ù†ØµØ¨ Ù…ÙˆÙÙ‚ Ø¨ÙˆØ¯Ù‡.

---

## Ø¨Ø¹Ø¯ÛŒ

â†’ [Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ](03-configuration.md)
```

---

## `docs/03-configuration.md`

```markdown
# 03 â€” Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ

ÙØ§ÛŒÙ„ `config/sms.php` ØªÙ…Ø§Ù… ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾Ú©ÛŒØ¬ Ø±Ø§ Ø¯Ø± Ø¨Ø± Ø¯Ø§Ø±Ø¯.

---

## Ø³Ø§Ø®ØªØ§Ø± Ú©Ø§Ù…Ù„

```php
<?php

return [

    // â”€â”€ Ø¯Ø±Ø§ÛŒÙˆØ± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ â”€â”€
    'default' => env('SMS_DRIVER', 'null'),

    // â”€â”€ Ø¯Ø±Ø§ÛŒÙˆØ±Ù‡Ø§ÛŒ Failover â”€â”€
    'failover' => [],

    // â”€â”€ ØªØ¹Ø±ÛŒÙ Ø¯Ø±Ø§ÛŒÙˆØ±Ù‡Ø§ â”€â”€
    'drivers' => [
        'null' => [
            'class'       => \Karnoweb\SmsSender\Drivers\NullDriver::class,
            'credentials' => [],
        ],
    ],

    // â”€â”€ Ù…Ø¯Ù„ Ù„Ø§Ú¯ â”€â”€
    'model' => \Karnoweb\SmsSender\Models\Sms::class,

    // â”€â”€ Ù†Ø§Ù… Ø¬Ø¯ÙˆÙ„ â”€â”€
    'table' => 'sms_messages',

    // â”€â”€ Ú©Ù†ØªØ±Ù„ Ù…ØµØ±Ù â”€â”€
    'usage_handler' => null,

];
```

---

## `default`

Ù†Ø§Ù… Ø¯Ø±Ø§ÛŒÙˆØ± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„. Ø¨Ø§ÛŒØ¯ Ø¨Ø§ ÛŒÚ©ÛŒ Ø§Ø² Ú©Ù„ÛŒØ¯Ù‡Ø§ÛŒ `drivers` Ù…Ø·Ø§Ø¨Ù‚Øª Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯.

```dotenv
SMS_DRIVER=kavenegar
```

---

## `failover`

Ø¢Ø±Ø§ÛŒÙ‡â€ŒØ§ÛŒ Ù…Ø±ØªØ¨ Ø§Ø² Ù†Ø§Ù… Ø¯Ø±Ø§ÛŒÙˆØ±Ù‡Ø§ÛŒ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ†:

```php
'failover' => ['melipayamak', 'farazsms'],
```

Ø§Ú¯Ø± `kavenegar` Ø´Ú©Ø³Øª Ø¨Ø®ÙˆØ±Ø¯ â†’ `melipayamak` â†’ Ø§Ú¯Ø± Ø¢Ù† Ù‡Ù… Ø´Ú©Ø³Øª Ø¨Ø®ÙˆØ±Ø¯ â†’ `farazsms`

Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨ÛŒØ´ØªØ±: [Failover](07-failover.md)

---

## `drivers`

Ù‡Ø± Ø¯Ø±Ø§ÛŒÙˆØ± Ø´Ø§Ù…Ù„ Ø³Ù‡ Ø¨Ø®Ø´ Ø§Ø³Øª:

```php
'kavenegar' => [
    // Û±. Ú©Ù„Ø§Ø³ Ø¯Ø±Ø§ÛŒÙˆØ± (Ø§Ù„Ø²Ø§Ù…ÛŒ)
    'class' => \App\SmsDrivers\KavenegarDriver::class,

    // Û². ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø§Ø®ØªØµØ§ØµÛŒ (Ø§Ù„Ø²Ø§Ù…ÛŒ â€” Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø®Ø§Ù„ÛŒ Ø¨Ø§Ø´Ø¯)
    'credentials' => [
        'api_key' => env('KAVENEGAR_API_KEY'),
        'sender'  => env('KAVENEGAR_SENDER', '10008663'),
    ],

    // Û³. ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù…ØµØ±Ù (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)
    'usage' => [
        'enabled'       => true,
        'daily_limit'   => 1000,
        'monthly_limit' => 30000,
    ],
],
```

| Ú©Ù„ÛŒØ¯ | Ù†ÙˆØ¹ | Ø§Ù„Ø²Ø§Ù…ÛŒ | ØªÙˆØ¶ÛŒØ­ |
|------|-----|--------|-------|
| `class` | `string` | âœ… | FQCN Ú©Ù„Ø§Ø³ Ø¯Ø±Ø§ÛŒÙˆØ± |
| `credentials` | `array` | âœ… | ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù¾Ø§Ø³â€ŒØ¯Ø§Ø¯Ù‡â€ŒØ´Ø¯Ù‡ Ø¨Ù‡ Ø³Ø§Ø²Ù†Ø¯Ù‡â€ŒÛŒ Ø¯Ø±Ø§ÛŒÙˆØ± |
| `usage` | `array` | âŒ | ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ú©Ù†ØªØ±Ù„ Ù…ØµØ±Ù |
| `usage.enabled` | `bool` | âŒ | ÙØ¹Ø§Ù„/ØºÛŒØ±ÙØ¹Ø§Ù„ (Ù¾ÛŒØ´â€ŒÙØ±Ø¶: `true`) |
| `usage.daily_limit` | `int\|null` | âŒ | Ø­Ø¯Ø§Ú©Ø«Ø± Ø§Ø±Ø³Ø§Ù„ Ø±ÙˆØ²Ø§Ù†Ù‡ |
| `usage.monthly_limit` | `int\|null` | âŒ | Ø­Ø¯Ø§Ú©Ø«Ø± Ø§Ø±Ø³Ø§Ù„ Ù…Ø§Ù‡Ø§Ù†Ù‡ |

---

## `model`

Ú©Ù„Ø§Ø³ Ù…Ø¯Ù„ Eloquent Ø¨Ø±Ø§ÛŒ Ø°Ø®ÛŒØ±Ù‡â€ŒÛŒ Ù„Ø§Ú¯:

```php
// Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù…Ø¯Ù„ Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ù¾Ú©ÛŒØ¬
'model' => \Karnoweb\SmsSender\Models\Sms::class,

// ÛŒØ§ Ù…Ø¯Ù„ Ø³ÙØ§Ø±Ø´ÛŒ Ø´Ù…Ø§
'model' => \App\Models\SmsLog::class,
```

Ù…Ø¯Ù„ Ø³ÙØ§Ø±Ø´ÛŒ Ø¨Ø§ÛŒØ¯ Ù‡Ù…Ø§Ù† Ø³Ø§Ø®ØªØ§Ø± Ø¬Ø¯ÙˆÙ„ Ùˆ Ù…ØªØ¯Ù‡Ø§ÛŒ `markAsSent`, `markAsFailed`, `markAsDelivered` Ø±Ø§ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯.

---

## `table`

Ù†Ø§Ù… Ø¬Ø¯ÙˆÙ„ Ø¯ÛŒØªØ§Ø¨ÛŒØ³:

```php
'table' => 'sms_messages',
```

---

## `usage_handler`

Ú©Ù„Ø§Ø³ Ù…Ø³Ø¦ÙˆÙ„ Ú©Ù†ØªØ±Ù„ Ù…ØµØ±Ù:

```php
// Ø¨Ø¯ÙˆÙ† Ù…Ø­Ø¯ÙˆØ¯ÛŒØª (Ù¾ÛŒØ´â€ŒÙØ±Ø¶)
'usage_handler' => null,

// Ú©Ù†ØªØ±Ù„ Ù…ØµØ±Ù Ø¨Ø± Ø§Ø³Ø§Ø³ config Ù‡Ø± Ø¯Ø±Ø§ÛŒÙˆØ±
'usage_handler' => \Karnoweb\SmsSender\Support\DefaultUsageHandler::class,

// handler Ø³ÙØ§Ø±Ø´ÛŒ
'usage_handler' => \App\Handlers\MyUsageHandler::class,
```

Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨ÛŒØ´ØªØ±: [Ú©Ù†ØªØ±Ù„ Ù…ØµØ±Ù](09-usage-handler.md)

---

## Ù†Ù…ÙˆÙ†Ù‡â€ŒÛŒ Ú©Ø§Ù…Ù„

```php
<?php

return [

    'default' => env('SMS_DRIVER', 'kavenegar'),

    'failover' => ['melipayamak'],

    'drivers' => [

        'null' => [
            'class'       => \Karnoweb\SmsSender\Drivers\NullDriver::class,
            'credentials' => [],
        ],

        'kavenegar' => [
            'class'       => \App\SmsDrivers\KavenegarDriver::class,
            'credentials' => [
                'api_key' => env('KAVENEGAR_API_KEY'),
                'sender'  => env('KAVENEGAR_SENDER', '10008663'),
            ],
            'usage' => [
                'enabled'       => true,
                'daily_limit'   => 1000,
                'monthly_limit' => 30000,
            ],
        ],

        'melipayamak' => [
            'class'       => \App\SmsDrivers\MelipayamakDriver::class,
            'credentials' => [
                'username' => env('MELI_USERNAME'),
                'password' => env('MELI_PASSWORD'),
            ],
        ],

    ],

    'model' => \Karnoweb\SmsSender\Models\Sms::class,

    'table' => 'sms_messages',

    'usage_handler' => \Karnoweb\SmsSender\Support\DefaultUsageHandler::class,

];
```

---

## Ø¨Ø¹Ø¯ÛŒ

â†’ [Ø§Ø³ØªÙØ§Ø¯Ù‡â€ŒÛŒ Ù¾Ø§ÛŒÙ‡](04-basic-usage.md)
```

---

## `docs/04-basic-usage.md`

```markdown
# 04 â€” Ø§Ø³ØªÙØ§Ø¯Ù‡â€ŒÛŒ Ù¾Ø§ÛŒÙ‡

## Ø³Ù‡ Ø±ÙˆØ´ Ø¯Ø³ØªØ±Ø³ÛŒ

### Û±. Facade (ØªÙˆØµÛŒÙ‡â€ŒØ´Ø¯Ù‡)

```php
use Karnoweb\SmsSender\Facades\Sms;

Sms::message('Ø³Ù„Ø§Ù…')->number('09120000000')->send();
```

### Û². Static Instance

```php
use Karnoweb\SmsSender\SmsManager;

SmsManager::instance()
    ->message('Ø³Ù„Ø§Ù…')
    ->number('09120000000')
    ->send();
```

### Û³. Dependency Injection

```php
use Karnoweb\SmsSender\SmsManager;

class SmsController
{
    public function __construct(
        private readonly SmsManager $sms,
    ) {}

    public function send()
    {
        $this->sms
            ->message('Ø³Ù„Ø§Ù…')
            ->number('09120000000')
            ->send();
    }
}
```

---

## Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø³Ø§Ø¯Ù‡

```php
Sms::message('Ø³ÙØ§Ø±Ø´ Ø´Ù…Ø§ Ø«Ø¨Øª Ø´Ø¯.')
    ->number('09120000000')
    ->send();
```

---

## Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ Ú†Ù†Ø¯ Ø´Ù…Ø§Ø±Ù‡

```php
// Ø¨Ø§ Ù…ØªØ¯ numbers
Sms::message('Ø§Ø·Ù„Ø§Ø¹â€ŒØ±Ø³Ø§Ù†ÛŒ Ø¹Ù…ÙˆÙ…ÛŒ')
    ->numbers(['09121111111', '09122222222', '09123333333'])
    ->send();

// ÛŒØ§ ØªØ±Ú©ÛŒØ¨ number Ùˆ numbers
Sms::message('Ø§Ø·Ù„Ø§Ø¹â€ŒØ±Ø³Ø§Ù†ÛŒ')
    ->number('09121111111')
    ->numbers(['09122222222', '09123333333'])
    ->send();
```

> Ø´Ù…Ø§Ø±Ù‡â€ŒÙ‡Ø§ÛŒ ØªÚ©Ø±Ø§Ø±ÛŒ Ø¨Ù‡ ØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± Ø­Ø°Ù Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.

---

## Ø§Ø±Ø³Ø§Ù„ OTP

```php
use Karnoweb\SmsSender\Enums\SmsTemplateEnum;

Sms::otp(SmsTemplateEnum::LOGIN_OTP)
    ->input('code', '1234')
    ->number('09120000000')
    ->send();

// Ù†ØªÛŒØ¬Ù‡: "Ú©Ø¯ ÙˆØ±ÙˆØ¯ Ø´Ù…Ø§: 1234"
```

---

## Ø§Ø±Ø³Ø§Ù„â€ŒÙ‡Ø§ÛŒ Ù¾Ø´Øª Ø³Ø± Ù‡Ù…

Ù‡Ø± `send()` Ù…Ø³ØªÙ‚Ù„ Ø¹Ù…Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ state Ù‚Ø¨Ù„ÛŒ Ù¾Ø§Ú© Ù…ÛŒâ€ŒØ´ÙˆØ¯:

```php
// Ø§Ø±Ø³Ø§Ù„ Û±
Sms::message('Ù¾ÛŒØ§Ù… Ø§ÙˆÙ„')->number('09121111111')->send();

// Ø§Ø±Ø³Ø§Ù„ Û² â€” Ú©Ø§Ù…Ù„Ø§Ù‹ Ù…Ø³ØªÙ‚Ù„
Sms::message('Ù¾ÛŒØ§Ù… Ø¯ÙˆÙ…')->number('09122222222')->send();
```

---

## Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§

```php
use Karnoweb\SmsSender\Exceptions\SmsException;
use Karnoweb\SmsSender\Exceptions\DriverNotAvailableException;
use Karnoweb\SmsSender\Exceptions\InvalidDriverConfigurationException;

try {
    Sms::message('Ø³Ù„Ø§Ù…')->number('09120000000')->send();
} catch (DriverNotAvailableException $e) {
    // Ù‡ÛŒÚ† Ø¯Ø±Ø§ÛŒÙˆØ±ÛŒ Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ù†ÛŒØ³Øª
    Log::critical('All SMS drivers are down!', [
        'error'    => $e->getMessage(),
        'previous' => $e->getPrevious()?->getMessage(),
    ]);
} catch (InvalidDriverConfigurationException $e) {
    // Ù…Ø´Ú©Ù„ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ (Ø¨Ø¯ÙˆÙ† Ú¯ÛŒØ±Ù†Ø¯Ù‡ØŒ Ø¨Ø¯ÙˆÙ† Ù¾ÛŒØ§Ù… Ùˆ ...)
    Log::error('SMS config error: ' . $e->getMessage());
} catch (SmsException $e) {
    // Ù‡Ø± Ø®Ø·Ø§ÛŒ Ù…Ø±ØªØ¨Ø· Ø¨Ø§ SMS
    Log::error('SMS error: ' . $e->getMessage());
}
```

---

## Ø¨Ø±Ø±Ø³ÛŒ Ù„Ø§Ú¯

```php
use Karnoweb\SmsSender\Models\Sms as SmsModel;
use Karnoweb\SmsSender\Enums\SmsSendStatusEnum;

// Ø¢Ø®Ø±ÛŒÙ† Ù¾ÛŒØ§Ù…Ú©â€ŒÙ‡Ø§
$recent = SmsModel::latest()->take(10)->get();

// Ù¾ÛŒØ§Ù…Ú©â€ŒÙ‡Ø§ÛŒ Ù†Ø§Ù…ÙˆÙÙ‚ Ø§Ù…Ø±ÙˆØ²
$failed = SmsModel::query()
    ->where('status', SmsSendStatusEnum::FAILED)
    ->whereDate('created_at', today())
    ->get();

// ØªØ¹Ø¯Ø§Ø¯ Ø§Ø±Ø³Ø§Ù„ Ø¨Ø§ Ù‡Ø± Ø¯Ø±Ø§ÛŒÙˆØ±
$perDriver = SmsModel::query()
    ->selectRaw('driver, count(*) as total')
    ->groupBy('driver')
    ->get();
```

---

## Ø¨Ø¹Ø¯ÛŒ

â†’ [Ù‚Ø§Ù„Ø¨â€ŒÙ‡Ø§](05-templates.md)
```

---

## `docs/05-templates.md`

```markdown
# 05 â€” Ù‚Ø§Ù„Ø¨â€ŒÙ‡Ø§ (Templates)

## Placeholder Ú†ÛŒØ³ØªØŸ

Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¯Ø± Ù…ØªÙ† Ù‚Ø§Ù„Ø¨ Ø¨Ø§ `{name}` Ù…Ø´Ø®Øµ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ Ùˆ Ù‡Ù†Ú¯Ø§Ù… Ø§Ø±Ø³Ø§Ù„ Ø¨Ø§ Ù…Ù‚Ø¯Ø§Ø± ÙˆØ§Ù‚Ø¹ÛŒ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.

```
Ù‚Ø§Ù„Ø¨:   "Ú©Ø¯ ÙˆØ±ÙˆØ¯ Ø´Ù…Ø§: {code}"
ÙˆØ±ÙˆØ¯ÛŒ:  code = 1234
Ù†ØªÛŒØ¬Ù‡:  "Ú©Ø¯ ÙˆØ±ÙˆØ¯ Ø´Ù…Ø§: 1234"
```

---

## Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù‚Ø§Ù„Ø¨ Enum

Ù¾Ú©ÛŒØ¬ Ú†Ù†Ø¯ Ù‚Ø§Ù„Ø¨ Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø¯Ø§Ø±Ø¯:

```php
use Karnoweb\SmsSender\Enums\SmsTemplateEnum;

// LOGIN_OTP â†’ "Ú©Ø¯ ÙˆØ±ÙˆØ¯ Ø´Ù…Ø§: {code}"
Sms::otp(SmsTemplateEnum::LOGIN_OTP)
    ->input('code', '1234')
    ->number('09120000000')
    ->send();

// VERIFY_PHONE â†’ "Ú©Ø¯ ØªØ£ÛŒÛŒØ¯ Ø´Ù…Ø§Ø±Ù‡: {code}"
Sms::otp(SmsTemplateEnum::VERIFY_PHONE)
    ->input('code', '5678')
    ->number('09120000000')
    ->send();

// PASSWORD_RESET â†’ "Ú©Ø¯ Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±: {code}"
Sms::otp(SmsTemplateEnum::PASSWORD_RESET)
    ->input('code', '9999')
    ->number('09120000000')
    ->send();
```

---

## Ù‚Ø§Ù„Ø¨â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ¬ÙˆØ¯

| Enum Case | Ù…ØªÙ† Ù‚Ø§Ù„Ø¨ | Placeholder Ù‡Ø§ |
|-----------|----------|----------------|
| `LOGIN_OTP` | `Ú©Ø¯ ÙˆØ±ÙˆØ¯ Ø´Ù…Ø§: {code}` | `code` |
| `VERIFY_PHONE` | `Ú©Ø¯ ØªØ£ÛŒÛŒØ¯ Ø´Ù…Ø§Ø±Ù‡: {code}` | `code` |
| `PASSWORD_RESET` | `Ú©Ø¯ Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±: {code}` | `code` |

---

## ØªÙ†Ø¸ÛŒÙ… ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§

### ÛŒÚ© ÙˆØ±ÙˆØ¯ÛŒ

```php
Sms::otp(SmsTemplateEnum::LOGIN_OTP)
    ->input('code', '1234')
    ->number('09120000000')
    ->send();
```

### Ú†Ù†Ø¯ ÙˆØ±ÙˆØ¯ÛŒ

```php
Sms::otp($template)
    ->inputs(['code' => '1234', 'name' => 'Ø¹Ù„ÛŒ'])
    ->number('09120000000')
    ->send();
```

### ØªØ±Ú©ÛŒØ¨

```php
Sms::otp($template)
    ->input('code', '1234')         // Ø§Ø¨ØªØ¯Ø§ code
    ->inputs(['name' => 'Ø¹Ù„ÛŒ'])     // Ø³Ù¾Ø³ name Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
    ->number('09120000000')
    ->send();
```

> Ø§Ú¯Ø± Ú©Ù„ÛŒØ¯ ØªÚ©Ø±Ø§Ø±ÛŒ Ø¨Ø§Ø´Ø¯ØŒ Ù…Ù‚Ø¯Ø§Ø± Ø¬Ø¯ÛŒØ¯ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ù‚Ø¨Ù„ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯.

---

## Ø§ÙˆÙ„ÙˆÛŒØª message Ø¨Ø± template

Ø§Ú¯Ø± Ù‡Ù… `message()` Ùˆ Ù‡Ù… `otp()` ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ø´ÙˆÙ†Ø¯ØŒ **message Ø§ÙˆÙ„ÙˆÛŒØª Ø¯Ø§Ø±Ø¯**:

```php
Sms::otp(SmsTemplateEnum::LOGIN_OTP)
    ->input('code', '1234')
    ->message('Ù¾ÛŒØ§Ù… Ø³Ø§Ø¯Ù‡')          // â† Ø§ÛŒÙ† Ø§ÙˆÙ„ÙˆÛŒØª Ø¯Ø§Ø±Ø¯
    ->number('09120000000')
    ->send();

// Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯: "Ù¾ÛŒØ§Ù… Ø³Ø§Ø¯Ù‡" (Ù†Ù‡ Ù‚Ø§Ù„Ø¨ OTP)
```

---

## Placeholder Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ù†Ø´Ø¯Ù‡

Ø§Ú¯Ø± placeholder Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ù†Ø´ÙˆØ¯ØŒ Ø¹ÛŒÙ†Ø§Ù‹ Ø¯Ø± Ø®Ø±ÙˆØ¬ÛŒ Ø¨Ø§Ù‚ÛŒ Ù…ÛŒâ€ŒÙ…Ø§Ù†Ø¯:

```php
Sms::otp(SmsTemplateEnum::LOGIN_OTP)
    // input('code', ...) ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ù†Ø´Ø¯Ù‡!
    ->number('09120000000')
    ->send();

// Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯: "Ú©Ø¯ ÙˆØ±ÙˆØ¯ Ø´Ù…Ø§: {code}"
```

---

## Ù„ÛŒØ³Øª Placeholder Ù‡Ø§ÛŒ ÛŒÚ© Ù‚Ø§Ù„Ø¨

```php
$placeholders = SmsTemplateEnum::LOGIN_OTP->placeholders();
// ['code']
```

---

## Ø³ÙØ§Ø±Ø´ÛŒâ€ŒØ³Ø§Ø²ÛŒ Ù‚Ø§Ù„Ø¨â€ŒÙ‡Ø§

Enum Ù‡Ø§ÛŒ PHP Ù‚Ø§Ø¨Ù„ Ú¯Ø³ØªØ±Ø´ Ù†ÛŒØ³ØªÙ†Ø¯. Ø¨Ø±Ø§ÛŒ Ù‚Ø§Ù„Ø¨â€ŒÙ‡Ø§ÛŒ Ø³ÙØ§Ø±Ø´ÛŒ:

### Ø±ÙˆØ´ Û±: Ù…ØªÙ† Ù…Ø³ØªÙ‚ÛŒÙ…

```php
Sms::message("Ø³Ù„Ø§Ù… {name}ØŒ Ø³ÙØ§Ø±Ø´ {order_id} Ø«Ø¨Øª Ø´Ø¯.")
    ->number('09120000000')
    ->send();

// Ù†Ú©ØªÙ‡: Ø¯Ø± message() Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ†ÛŒ placeholder Ø§Ù†Ø¬Ø§Ù… Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯
// Ø¨Ø§ÛŒØ¯ Ø®ÙˆØ¯ØªØ§Ù† Ù…ØªÙ† Ù†Ù‡Ø§ÛŒÛŒ Ø±Ø§ Ø¨Ø³Ø§Ø²ÛŒØ¯
```

### Ø±ÙˆØ´ Û²: Ø³Ø§Ø®Øª Enum Ø³ÙØ§Ø±Ø´ÛŒ Ø¯Ø± Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†

```php
// app/Enums/MySmsTemplateEnum.php
namespace App\Enums;

enum MySmsTemplateEnum: string
{
    case ORDER_CONFIRMED = 'Ø³ÙØ§Ø±Ø´ {order_id} ØªØ£ÛŒÛŒØ¯ Ø´Ø¯. Ù¾ÛŒÚ¯ÛŒØ±ÛŒ: {tracking}';
    case WELCOME         = 'Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ {name}!';
}
```

> Ù†Ú©ØªÙ‡: Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Enum Ø³ÙØ§Ø±Ø´ÛŒØŒ Ø¨Ø§ÛŒØ¯ `SmsManager` Ø±Ø§ extend Ú©Ù†ÛŒØ¯
> ÛŒØ§ Ø§Ø² `message()` Ø¨Ø§ Ù…ØªÙ† Ù†Ù‡Ø§ÛŒÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.

---

## Ø¨Ø¹Ø¯ÛŒ

â†’ [Ø¯Ø±Ø§ÛŒÙˆØ±Ù‡Ø§](06-drivers.md)
```

---

## `docs/06-drivers.md`

```markdown
# 06 â€” Ø¯Ø±Ø§ÛŒÙˆØ±Ù‡Ø§

## Ù…ÙÙ‡ÙˆÙ… Ø¯Ø±Ø§ÛŒÙˆØ±

Ø¯Ø±Ø§ÛŒÙˆØ± ÛŒÚ© Ú©Ù„Ø§Ø³ Ø§Ø³Øª Ú©Ù‡ Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ `SmsDriver` Ø±Ø§ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ù…Ø³Ø¦ÙˆÙ„ Ø§Ø±ØªØ¨Ø§Ø· ÙˆØ§Ù‚Ø¹ÛŒ
Ø¨Ø§ ÛŒÚ© Ø³Ø±ÙˆÛŒØ³â€ŒØ¯Ù‡Ù†Ø¯Ù‡â€ŒÛŒ Ù¾ÛŒØ§Ù…Ú© (Ù…Ø«Ù„ Ú©Ø§ÙˆÙ‡â€ŒÙ†Ú¯Ø§Ø±ØŒ Ù…Ù„ÛŒâ€ŒÙ¾ÛŒØ§Ù…Ú© Ùˆ ...) Ø§Ø³Øª.

```
SmsManager â†’ resolveDriver('kavenegar') â†’ KavenegarDriver â†’ API Call
```

---

## Ø§ÛŒÙ†ØªØ±ÙÛŒØ³ SmsDriver

```php
namespace Karnoweb\SmsSender\Contracts;

interface SmsDriver
{
    public function send(string $phone, string $message): void;
}
```

| Ù¾Ø§Ø±Ø§Ù…ØªØ± | Ù†ÙˆØ¹ | ØªÙˆØ¶ÛŒØ­ |
|---------|-----|-------|
| `$phone` | `string` | Ø´Ù…Ø§Ø±Ù‡â€ŒÛŒ Ú¯ÛŒØ±Ù†Ø¯Ù‡ |
| `$message` | `string` | Ù…ØªÙ† Ù†Ù‡Ø§ÛŒÛŒ Ù¾ÛŒØ§Ù…Ú© |

### Ù‚ÙˆØ§Ø¹Ø¯

1. Ø³Ø§Ø²Ù†Ø¯Ù‡ Ø¨Ø§ÛŒØ¯ `array $config` Ø¨Ù¾Ø°ÛŒØ±Ø¯
2. Ø¯Ø± ØµÙˆØ±Øª Ù…ÙˆÙÙ‚ÛŒØª: Ù‡ÛŒÚ† Ù…Ù‚Ø¯Ø§Ø±ÛŒ Ø¨Ø±Ù†Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯
3. Ø¯Ø± ØµÙˆØ±Øª Ø®Ø·Ø§ÛŒ Ø§Ø±ØªØ¨Ø§Ø·ÛŒ: `DriverConnectionException` Ù¾Ø±ØªØ§Ø¨ Ú©Ù†ÛŒØ¯
4. Ø®Ø·Ø§Ù‡Ø§ÛŒ ØºÛŒØ±Ù…Ù†ØªØ¸Ø±Ù‡ (bug): catch Ù†Ú©Ù†ÛŒØ¯

---

## Ø¯Ø±Ø§ÛŒÙˆØ± NullDriver (Ù¾ÛŒØ´â€ŒÙØ±Ø¶)

```php
namespace Karnoweb\SmsSender\Drivers;

class NullDriver implements SmsDriver
{
    public function __construct(protected readonly array $config = []) {}

    public function send(string $phone, string $message): void
    {
        // Ø¹Ù…Ø¯Ø§Ù‹ Ø®Ø§Ù„ÛŒ â€” Null Object Pattern
    }
}
```

**Ú©Ø§Ø±Ø¨Ø±Ø¯**: Ù…Ø­ÛŒØ· ØªÙˆØ³Ø¹Ù‡ Ùˆ ØªØ³Øª â€” Ù‡ÛŒÚ† Ù¾ÛŒØ§Ù…Ú©ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯ ÙˆÙ„ÛŒ Ù„Ø§Ú¯ Ø«Ø¨Øª Ù…ÛŒâ€ŒØ´ÙˆØ¯.

---

## Ø«Ø¨Øª Ø¯Ø±Ø§ÛŒÙˆØ± Ø¯Ø± Config

```php
// config/sms.php
'drivers' => [
    'kavenegar' => [
        'class'       => \App\SmsDrivers\KavenegarDriver::class,
        'credentials' => [
            'api_key' => env('KAVENEGAR_API_KEY'),
            'sender'  => env('KAVENEGAR_SENDER'),
        ],
    ],
],
```

---

## Ù†Ø­ÙˆÙ‡â€ŒÛŒ Resolve Ø´Ø¯Ù†

```
Û±. config('sms.drivers.kavenegar') Ø®ÙˆØ§Ù†Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯
Û². ÙˆØ¬ÙˆØ¯ 'class' Ùˆ Ù…Ø¹ØªØ¨Ø± Ø¨ÙˆØ¯Ù† Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯
Û³. Container Ù„Ø§Ø±Ø§ÙˆÙ„: make(KavenegarDriver::class, ['config' => $credentials])
Û´. instanceof SmsDriver Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯
```

Ø§Ú¯Ø± Ù‡Ø± Ù…Ø±Ø­Ù„Ù‡ Ø´Ú©Ø³Øª Ø¨Ø®ÙˆØ±Ø¯ â†’ `InvalidDriverConfigurationException`

---

## DeliveryReportFetcher (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)

Ø¯Ø±Ø§ÛŒÙˆØ±Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª ØªØ­ÙˆÛŒÙ„ Ø±Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯:

```php
namespace Karnoweb\SmsSender\Contracts;

interface DeliveryReportFetcher
{
    public function fetchDeliveryReport(string $providerMessageId): array;
}
```

Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ:

```php
class KavenegarDriver implements SmsDriver, DeliveryReportFetcher
{
    public function send(string $phone, string $message): void { /* ... */ }

    public function fetchDeliveryReport(string $providerMessageId): array
    {
        // API call...
        return ['status' => 'delivered'];
    }
}
```

Ø¬Ø²Ø¦ÛŒØ§Øª Ø¨ÛŒØ´ØªØ±: [Ø³Ø§Ø®Øª Ø¯Ø±Ø§ÛŒÙˆØ± Ø³ÙØ§Ø±Ø´ÛŒ](10-custom-driver.md)

---

## Ø¨Ø¹Ø¯ÛŒ

â†’ [Failover](07-failover.md)
```

---

## `docs/07-failover.md`

```markdown
# 07 â€” Failover (Ø³ÙˆØ¦ÛŒÚ† Ø®ÙˆØ¯Ú©Ø§Ø±)

## Ù…ÙÙ‡ÙˆÙ…

Ø§Ú¯Ø± Ø¯Ø±Ø§ÛŒÙˆØ± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø´Ú©Ø³Øª Ø¨Ø®ÙˆØ±Ø¯ØŒ Ø³ÛŒØ³ØªÙ… Ø¨Ù‡ ØµÙˆØ±Øª Ø®ÙˆØ¯Ú©Ø§Ø± Ø¯Ø±Ø§ÛŒÙˆØ± Ø¨Ø¹Ø¯ÛŒ Ø±Ø§ Ø§Ù…ØªØ­Ø§Ù† Ù…ÛŒâ€ŒÚ©Ù†Ø¯
ØªØ§ Ù¾ÛŒØ§Ù…Ú© Ø§Ø±Ø³Ø§Ù„ Ø´ÙˆØ¯.

```
Ø¯Ø±Ø§ÛŒÙˆØ± Û± (Ú©Ø§ÙˆÙ‡â€ŒÙ†Ú¯Ø§Ø±)   â†’ âŒ Connection Timeout
Ø¯Ø±Ø§ÛŒÙˆØ± Û² (Ù…Ù„ÛŒâ€ŒÙ¾ÛŒØ§Ù…Ú©)   â†’ âŒ API Error
Ø¯Ø±Ø§ÛŒÙˆØ± Û³ (ÙØ±Ø§Ø²)        â†’ âœ… Ø§Ø±Ø³Ø§Ù„ Ù…ÙˆÙÙ‚
```

---

## Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ

```php
// config/sms.php
'default'  => 'kavenegar',
'failover' => ['melipayamak', 'farazsms'],
```

ØªØ±ØªÛŒØ¨ Ø§Ø±Ø³Ø§Ù„: `kavenegar` â†’ `melipayamak` â†’ `farazsms`

---

## Ú†Ù‡ Ø®Ø·Ø§Ù‡Ø§ÛŒÛŒ Failover Ø±Ø§ ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ØŸ

| Exception | Ø¹Ù„Øª | Failover |
|-----------|-----|----------|
| `InvalidDriverConfigurationException` | Ù…Ø´Ú©Ù„ config | âœ… Ø¨Ù„Ù‡ |
| `DriverConnectionException` | Ù…Ø´Ú©Ù„ Ø§Ø±ØªØ¨Ø§Ø·ÛŒ | âœ… Ø¨Ù„Ù‡ |
| `DriverNotAvailableException` | ØºÛŒØ±ÙØ¹Ø§Ù„ / Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù…ØµØ±Ù | âœ… Ø¨Ù„Ù‡ |
| `RuntimeException` (ÛŒØ§ Ù‡Ø± Ø®Ø·Ø§ÛŒ Ø¯ÛŒÚ¯Ø±) | Ø§Ø­ØªÙ…Ø§Ù„Ø§Ù‹ bug | âŒ Ø®ÛŒØ± â€” bubble up |

---

## Ú†Ø±Ø§ Bug Ù‡Ø§ Failover Ø±Ø§ ÙØ¹Ø§Ù„ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯ØŸ

Ø§Ú¯Ø± Ø¯Ø±Ø§ÛŒÙˆØ± ÛŒÚ© bug Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯ (Ù…Ø«Ù„Ø§Ù‹ `NullPointerException`)ØŒ Ù†Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒÙ… Ø¢Ù† Ø±Ø§ Ù…Ø®ÙÛŒ Ú©Ù†ÛŒÙ….
Ø¨Ø§ÛŒØ¯ Ø³Ø±ÛŒØ¹ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ùˆ Ø±ÙØ¹ Ø´ÙˆØ¯. Failover ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ **Ø®Ø·Ø§Ù‡Ø§ÛŒ Ù‚Ø§Ø¨Ù„ Ù¾ÛŒØ´â€ŒØ¨ÛŒÙ†ÛŒ** Ø§Ø³Øª.

---

## Ù„Ø§Ú¯ Failover

ÙˆÙ‚ØªÛŒ Failover Ø±Ø® Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ØŒ **Ø¯Ùˆ Ø±Ú©ÙˆØ±Ø¯** Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø«Ø¨Øª Ù…ÛŒâ€ŒØ´ÙˆØ¯:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ driver       â”‚ status    â”‚ message  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ kavenegar    â”‚ FAILED    â”‚ Ø³Ù„Ø§Ù…     â”‚  â† Ø¯Ø±Ø§ÛŒÙˆØ± Ø§ÙˆÙ„ Ø´Ú©Ø³Øª Ø®ÙˆØ±Ø¯
â”‚ melipayamak  â”‚ SENT      â”‚ Ø³Ù„Ø§Ù…     â”‚  â† Ø¯Ø±Ø§ÛŒÙˆØ± Ø¯ÙˆÙ… Ù…ÙˆÙÙ‚ Ø´Ø¯
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Ù‡Ù…Ù‡ Ø¯Ø±Ø§ÛŒÙˆØ±Ù‡Ø§ Ø´Ú©Ø³Øª Ø®ÙˆØ±Ø¯Ù†Ø¯

Ø§Ú¯Ø± Ù‡ÛŒÚ† Ø¯Ø±Ø§ÛŒÙˆØ±ÛŒ Ù…ÙˆÙÙ‚ Ù†Ø´ÙˆØ¯:

```php
try {
    Sms::message('Ø³Ù„Ø§Ù…')->number('09120000000')->send();
} catch (DriverNotAvailableException $e) {
    // $e->getMessage(): "No SMS drivers are available to send messages."
    // $e->getPrevious(): Ø¢Ø®Ø±ÛŒÙ† Ø®Ø·Ø§ÛŒ Ø¯Ø±Ø§ÛŒÙˆØ± Ø´Ú©Ø³Øªâ€ŒØ®ÙˆØ±Ø¯Ù‡
}
```

---

## Ù†Ù…ÙˆÙ†Ù‡â€ŒÛŒ Ú©Ø§Ù…Ù„

```php
// config/sms.php
return [
    'default'  => env('SMS_DRIVER', 'kavenegar'),
    'failover' => ['melipayamak', 'farazsms'],

    'drivers' => [
        'kavenegar' => [
            'class'       => KavenegarDriver::class,
            'credentials' => ['api_key' => env('KAVENEGAR_API_KEY')],
        ],
        'melipayamak' => [
            'class'       => MelipayamakDriver::class,
            'credentials' => ['username' => env('MELI_USER'), 'password' => env('MELI_PASS')],
        ],
        'farazsms' => [
            'class'       => FarazDriver::class,
            'credentials' => ['token' => env('FARAZ_TOKEN')],
        ],
    ],
];
```

```php
// Ø¯Ø± Ú©Ø¯: ÙÙ‚Ø· send() Ø±Ø§ ØµØ¯Ø§ Ø¨Ø²Ù†ÛŒØ¯ â€” Failover Ø®ÙˆØ¯Ú©Ø§Ø± Ø§Ø³Øª
Sms::message('Ú©Ø¯ ØªØ£ÛŒÛŒØ¯: 1234')
    ->number('09120000000')
    ->send();
```

---

## Ø¨Ø¹Ø¯ÛŒ

â†’ [ÙˆØ¶Ø¹ÛŒØª ØªØ­ÙˆÛŒÙ„](08-delivery-report.md)
```

---

## `docs/08-delivery-report.md`

```markdown
# 08 â€” ÙˆØ¶Ø¹ÛŒØª ØªØ­ÙˆÛŒÙ„ (Delivery Report)

## Ù…ÙÙ‡ÙˆÙ…

Ø¨Ø¹Ø¯ Ø§Ø² Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú©ØŒ Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø¨Ø®ÙˆØ§Ù‡ÛŒØ¯ Ø¨Ø¯Ø§Ù†ÛŒØ¯ Ø¢ÛŒØ§ Ù¾ÛŒØ§Ù…Ú© ÙˆØ§Ù‚Ø¹Ø§Ù‹ Ø¨Ù‡ Ú¯ÛŒØ±Ù†Ø¯Ù‡ ØªØ­ÙˆÛŒÙ„ Ø´Ø¯Ù‡ ÛŒØ§ Ù†Ù‡.
Ù…ØªØ¯ `checkStatus()` Ø§ÛŒÙ† Ú©Ø§Ø± Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.

---

## Ø§Ø³ØªÙØ§Ø¯Ù‡

```php
// Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø¨Ø±Ø§ÛŒ ÛŒÚ© Ø´Ù…Ø§Ø±Ù‡
$results = Sms::number('09120000000')->checkStatus();

// Ø¨Ø±Ø±Ø³ÛŒ Ø¨Ø±Ø§ÛŒ Ú†Ù†Ø¯ Ø´Ù…Ø§Ø±Ù‡
$results = Sms::numbers(['09120000000', '09130000000'])->checkStatus();
```

---

## Ø³Ø§Ø®ØªØ§Ø± Ø®Ø±ÙˆØ¬ÛŒ

```php
$results = [
    // âœ… ÙˆØ¶Ø¹ÛŒØª Ø¯Ø±ÛŒØ§ÙØª Ø´Ø¯
    [
        'sms_id'              => 1,
        'phone'               => '09120000000',
        'driver'              => 'kavenegar',
        'provider_message_id' => 'msg_123',
        'old_status'          => 'sent',
        'new_status'          => 'delivered',
    ],

    // â­ï¸ Ø±Ø¯ Ø´Ø¯ (Ø¨Ø¯ÙˆÙ† provider_message_id)
    [
        'sms_id'              => 2,
        'phone'               => '09130000000',
        'driver'              => 'kavenegar',
        'provider_message_id' => null,
        'old_status'          => 'pending',
        'skipped'             => true,
        'reason'              => 'No provider_message_id available.',
    ],

    // â­ï¸ Ø±Ø¯ Ø´Ø¯ (Ø¯Ø±Ø§ÛŒÙˆØ± Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯)
    [
        'sms_id'              => 3,
        'phone'               => '09140000000',
        'driver'              => 'simple',
        'provider_message_id' => 'msg_456',
        'old_status'          => 'sent',
        'skipped'             => true,
        'reason'              => 'Driver does not support delivery reports.',
    ],

    // âŒ Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø±Ø±Ø³ÛŒ
    [
        'sms_id'              => 4,
        'phone'               => '09150000000',
        'driver'              => 'kavenegar',
        'provider_message_id' => 'msg_789',
        'old_status'          => 'sent',
        'error'               => 'Connection timeout',
    ],
];
```

---

## ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù…Ù…Ú©Ù†

| ÙˆØ¶Ø¹ÛŒØª Ø¬Ø¯ÛŒØ¯ | Ø¹Ù…Ù„Ú©Ø±Ø¯ | ØªÙˆØ¶ÛŒØ­ |
|------------|--------|-------|
| `delivered` | Ø±Ú©ÙˆØ±Ø¯ â†’ `DELIVERED` | ØªØ­ÙˆÛŒÙ„ ØªØ£ÛŒÛŒØ¯ Ø´Ø¯ |
| `failed` | Ø±Ú©ÙˆØ±Ø¯ â†’ `FAILED` | ØªØ­ÙˆÛŒÙ„ Ø´Ú©Ø³Øª Ø®ÙˆØ±Ø¯ |
| `unknown` | Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ± | Ù‡Ù†ÙˆØ² Ù…Ø´Ø®Øµ Ù†ÛŒØ³Øª |
| Ø³Ø§ÛŒØ± | Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ± | ÙˆØ¶Ø¹ÛŒØª Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡ |

---

## Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§

Û±. **Ø¯Ø±Ø§ÛŒÙˆØ± Ø¨Ø§ÛŒØ¯ `DeliveryReportFetcher` Ø±Ø§ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ø±Ø¯Ù‡ Ø¨Ø§Ø´Ø¯**
   
   Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ† ØµÙˆØ±ØªØŒ Ø±Ú©ÙˆØ±Ø¯ skip Ù…ÛŒâ€ŒØ´ÙˆØ¯.

Û². **Ø±Ú©ÙˆØ±Ø¯ Ø¨Ø§ÛŒØ¯ `provider_message_id` Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯**
   
   Ø§ÛŒÙ† Ù…Ù‚Ø¯Ø§Ø± Ø¨Ø§ÛŒØ¯ ØªÙˆØ³Ø· Ø¯Ø±Ø§ÛŒÙˆØ± Ø¨Ø¹Ø¯ Ø§Ø² Ø§Ø±Ø³Ø§Ù„ Ø°Ø®ÛŒØ±Ù‡ Ø´ÙˆØ¯.

Û³. **ÙÙ‚Ø· Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§ÛŒ `PENDING` Ùˆ `SENT` Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯**
   
   Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§ÛŒ `DELIVERED` Ùˆ `FAILED` Ù†Ù‡Ø§ÛŒÛŒ Ù‡Ø³ØªÙ†Ø¯ Ùˆ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¨Ø±Ø±Ø³ÛŒ Ù†Ø¯Ø§Ø±Ù†Ø¯.

---

## Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§

Ø®Ø·Ø§Ù‡Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ø¨Ù‚ÛŒÙ‡â€ŒÛŒ Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§ Ø±Ø§ Ù…ØªÙˆÙ‚Ù **Ù†Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯**:

```php
$results = Sms::number('09120000000')->checkStatus();

foreach ($results as $result) {
    if (isset($result['error'])) {
        Log::warning('Delivery check failed', $result);
    } elseif (isset($result['skipped'])) {
        // Ø±Ø¯ Ø´Ø¯Ù‡ â€” Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø§Ù‚Ø¯Ø§Ù… Ù†ÛŒØ³Øª
    } else {
        Log::info("SMS {$result['sms_id']}: {$result['new_status']}");
    }
}
```

---

## Ù†Ú©ØªÙ‡ Ø¯Ø±Ø¨Ø§Ø±Ù‡â€ŒÛŒ `provider_message_id`

Ø§ÛŒÙ† Ù…Ù‚Ø¯Ø§Ø± Ø¨Ø§ÛŒØ¯ ØªÙˆØ³Ø· Ø¯Ø±Ø§ÛŒÙˆØ± Ø¨Ø¹Ø¯ Ø§Ø² Ø§Ø±Ø³Ø§Ù„ Ù…ÙˆÙÙ‚ Ø¯Ø± Ø±Ú©ÙˆØ±Ø¯ Ø°Ø®ÛŒØ±Ù‡ Ø´ÙˆØ¯:

```php
// Ø¯Ø§Ø®Ù„ Ø¯Ø±Ø§ÛŒÙˆØ± Ø³ÙØ§Ø±Ø´ÛŒ
public function send(string $phone, string $message): void
{
    $response = $this->http->post('...');
    
    // provider_message_id Ø¨Ø§ÛŒØ¯ Ø¨Ø¹Ø¯Ø§Ù‹ Ø¯Ø± Ø±Ú©ÙˆØ±Ø¯ Ø«Ø¨Øª Ø´ÙˆØ¯
    // Ø§ÛŒÙ† Ù…Ø³Ø¦ÙˆÙ„ÛŒØª Ø¯Ø±Ø§ÛŒÙˆØ± ÛŒØ§ ÛŒÚ© event listener Ø§Ø³Øª
}
```

---

## Ø¨Ø¹Ø¯ÛŒ

â†’ [Ú©Ù†ØªØ±Ù„ Ù…ØµØ±Ù](09-usage-handler.md)
```

---

## `docs/09-usage-handler.md`

```markdown
# 09 â€” Ú©Ù†ØªØ±Ù„ Ù…ØµØ±Ù (Usage Handler)

## Ù…ÙÙ‡ÙˆÙ…

Ù‚Ø¨Ù„ Ø§Ø² Ø§Ø±Ø³Ø§Ù„ Ø¨Ø§ Ù‡Ø± Ø¯Ø±Ø§ÛŒÙˆØ±ØŒ `UsageHandler` Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯:
- Ø¢ÛŒØ§ Ø¯Ø±Ø§ÛŒÙˆØ± **ÙØ¹Ø§Ù„** Ø§Ø³ØªØŸ
- Ø¢ÛŒØ§ **Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø±ÙˆØ²Ø§Ù†Ù‡** Ø±Ø¹Ø§ÛŒØª Ø´Ø¯Ù‡ØŸ
- Ø¢ÛŒØ§ **Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù…Ø§Ù‡Ø§Ù†Ù‡** Ø±Ø¹Ø§ÛŒØª Ø´Ø¯Ù‡ØŸ

Ø§Ú¯Ø± Ø¯Ø±Ø§ÛŒÙˆØ± Ù‚Ø§Ø¨Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù†Ø¨Ø§Ø´Ø¯ØŒ Failover Ø¨Ù‡ Ø¯Ø±Ø§ÛŒÙˆØ± Ø¨Ø¹Ø¯ÛŒ Ø³ÙˆØ¦ÛŒÚ† Ù…ÛŒâ€ŒÚ©Ù†Ø¯.

---

## ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ

### Û±. Ø§Ø² Ø·Ø±ÛŒÙ‚ Config (ØªÙˆØµÛŒÙ‡â€ŒØ´Ø¯Ù‡)

```php
// config/sms.php
'usage_handler' => \Karnoweb\SmsSender\Support\DefaultUsageHandler::class,
```

### Û². Ø§Ø² Ø·Ø±ÛŒÙ‚ Container Binding

```php
// AppServiceProvider.php
use Karnoweb\SmsSender\Contracts\SmsUsageHandler;
use Karnoweb\SmsSender\Support\DefaultUsageHandler;

$this->app->bind(SmsUsageHandler::class, DefaultUsageHandler::class);
```

### Û³. Ø¨Ø¯ÙˆÙ† Ú©Ù†ØªØ±Ù„ Ù…ØµØ±Ù (Ù¾ÛŒØ´â€ŒÙØ±Ø¶)

```php
'usage_handler' => null,
```

---

## ØªÙ†Ø¸ÛŒÙ… Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§

Ù…Ø­Ø¯ÙˆØ¯ÛŒØªâ€ŒÙ‡Ø§ Ø¯Ø± config Ù‡Ø± Ø¯Ø±Ø§ÛŒÙˆØ± ØªØ¹Ø±ÛŒÙ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯:

```php
'drivers' => [
    'kavenegar' => [
        'class'       => KavenegarDriver::class,
        'credentials' => ['api_key' => '...'],
        'usage' => [
            'enabled'       => true,    // ÙØ¹Ø§Ù„/ØºÛŒØ±ÙØ¹Ø§Ù„
            'daily_limit'   => 1000,    // Ø­Ø¯Ø§Ú©Ø«Ø± Ø§Ø±Ø³Ø§Ù„ Ø±ÙˆØ²Ø§Ù†Ù‡
            'monthly_limit' => 30000,   // Ø­Ø¯Ø§Ú©Ø«Ø± Ø§Ø±Ø³Ø§Ù„ Ù…Ø§Ù‡Ø§Ù†Ù‡
        ],
    ],
],
```

---

## Ø¬Ø¯ÙˆÙ„ ØªÙ†Ø¸ÛŒÙ…Ø§Øª

| Ú©Ù„ÛŒØ¯ | Ù†ÙˆØ¹ | Ù¾ÛŒØ´â€ŒÙØ±Ø¶ | ØªÙˆØ¶ÛŒØ­ |
|------|-----|---------|-------|
| `enabled` | `bool` | `true` | `false` = Ø¯Ø±Ø§ÛŒÙˆØ± ØºÛŒØ±ÙØ¹Ø§Ù„ |
| `daily_limit` | `int\|null` | `null` | `null` = Ø¨Ø¯ÙˆÙ† Ù…Ø­Ø¯ÙˆØ¯ÛŒØª |
| `monthly_limit` | `int\|null` | `null` | `null` = Ø¨Ø¯ÙˆÙ† Ù…Ø­Ø¯ÙˆØ¯ÛŒØª |

---

## Ù†Ø­ÙˆÙ‡â€ŒÛŒ Ø´Ù…Ø§Ø±Ø´

- **Ø±ÙˆØ²Ø§Ù†Ù‡**: ØªØ¹Ø¯Ø§Ø¯ Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§ÛŒ **Ø§Ù…Ø±ÙˆØ²** (Ø¨Ø± Ø§Ø³Ø§Ø³ `created_at`)
- **Ù…Ø§Ù‡Ø§Ù†Ù‡**: ØªØ¹Ø¯Ø§Ø¯ Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§ÛŒ **Ù…Ø§Ù‡ Ø¬Ø§Ø±ÛŒ** (Ø§Ø² Ø§Ø¨ØªØ¯Ø§ÛŒ Ù…Ø§Ù‡ Ù…ÛŒÙ„Ø§Ø¯ÛŒ)
- **Ù‡Ù…Ù‡â€ŒÛŒ ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§** Ø´Ù…Ø§Ø±Ø´ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ (Ø­ØªÛŒ `FAILED`) Ú†ÙˆÙ† Ù†Ø´Ø§Ù†â€ŒØ¯Ù‡Ù†Ø¯Ù‡â€ŒÛŒ ØªÙ„Ø§Ø´ Ø§Ø±Ø³Ø§Ù„ Ù‡Ø³ØªÙ†Ø¯
- ÙÙ‚Ø· Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§ÛŒ **Ù‡Ù…Ø§Ù† Ø¯Ø±Ø§ÛŒÙˆØ±** Ø´Ù…Ø§Ø±Ø´ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯

---

## ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø¯Ø±Ø§ÛŒÙˆØ±

```php
'kavenegar' => [
    'class'       => KavenegarDriver::class,
    'credentials' => ['api_key' => '...'],
    'usage' => [
        'enabled' => false,  // â† ØºÛŒØ±ÙØ¹Ø§Ù„
    ],
],
```

> ØºÛŒØ±ÙØ¹Ø§Ù„ Ø¨ÙˆØ¯Ù† Ø¨Ø§Ø¹Ø« `DriverNotAvailableException` Ùˆ ÙØ¹Ø§Ù„ Ø´Ø¯Ù† Failover Ù…ÛŒâ€ŒØ´ÙˆØ¯.

---

## Ø³Ù†Ø§Ø±ÛŒÙˆÛŒ Failover Ø¨Ø§ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª

```php
'default'  => 'kavenegar',
'failover' => ['melipayamak'],

'drivers' => [
    'kavenegar' => [
        'class'       => KavenegarDriver::class,
        'credentials' => ['api_key' => '...'],
        'usage' => ['daily_limit' => 100],
    ],
    'melipayamak' => [
        'class'       => MelipayamakDriver::class,
        'credentials' => ['username' => '...', 'password' => '...'],
    ],
],
```

```
Ø§Ø±Ø³Ø§Ù„ Û± ØªØ§ Û±Û°Û°: Ú©Ø§ÙˆÙ‡â€ŒÙ†Ú¯Ø§Ø± âœ…
Ø§Ø±Ø³Ø§Ù„ Û±Û°Û±:       Ú©Ø§ÙˆÙ‡â€ŒÙ†Ú¯Ø§Ø± âŒ (Ù…Ø­Ø¯ÙˆØ¯ÛŒØª) â†’ Ù…Ù„ÛŒâ€ŒÙ¾ÛŒØ§Ù…Ú© âœ…
```

---

## Ø³Ø§Ø®Øª UsageHandler Ø³ÙØ§Ø±Ø´ÛŒ

```php
namespace App\Handlers;

use Karnoweb\SmsSender\Contracts\SmsDriver;
use Karnoweb\SmsSender\Contracts\SmsUsageHandler;
use Karnoweb\SmsSender\Exceptions\DriverNotAvailableException;

class MyUsageHandler implements SmsUsageHandler
{
    public function ensureUsable(string $driverName, SmsDriver $driver): void
    {
        // Ù…Ø«Ø§Ù„: ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø¯Ø± Ø³Ø§Ø¹Ø§Øª Ø®Ø§Øµ
        if (now()->hour >= 22 || now()->hour < 7) {
            throw new DriverNotAvailableException(
                "SMS sending is disabled between 22:00 and 07:00."
            );
        }

        // Ù…Ø«Ø§Ù„: Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø¹ØªØ¨Ø§Ø± Ø­Ø³Ø§Ø¨ Ø§Ø² API Ø³Ø±ÙˆÛŒØ³â€ŒØ¯Ù‡Ù†Ø¯Ù‡
        // ...
    }
}
```

---

## Ø¨Ø¹Ø¯ÛŒ

â†’ [Ø³Ø§Ø®Øª Ø¯Ø±Ø§ÛŒÙˆØ± Ø³ÙØ§Ø±Ø´ÛŒ](10-custom-driver.md)
```

---

## `docs/10-custom-driver.md`

```markdown
# 10 â€” Ø³Ø§Ø®Øª Ø¯Ø±Ø§ÛŒÙˆØ± Ø³ÙØ§Ø±Ø´ÛŒ

## Ù…Ø±Ø§Ø­Ù„

### Û±. Ø³Ø§Ø®Øª Ú©Ù„Ø§Ø³ Ø¯Ø±Ø§ÛŒÙˆØ±

```php
<?php

namespace App\SmsDrivers;

use Illuminate\Support\Facades\Http;
use Karnoweb\SmsSender\Contracts\SmsDriver;
use Karnoweb\SmsSender\Exceptions\DriverConnectionException;

class KavenegarDriver implements SmsDriver
{
    private string $apiKey;
    private string $sender;

    /**
     * Ù¾Ø§Ø±Ø§Ù…ØªØ± $config Ø§Ø² credentials Ø¯Ø± config/sms.php Ù¾Ø± Ù…ÛŒâ€ŒØ´ÙˆØ¯.
     */
    public function __construct(protected readonly array $config)
    {
        $this->apiKey = $config['api_key'] ?? '';
        $this->sender = $config['sender'] ?? '';

        if (empty($this->apiKey)) {
            throw new \Karnoweb\SmsSender\Exceptions\InvalidDriverConfigurationException(
                'Kavenegar requires api_key in credentials.'
            );
        }
    }

    public function send(string $phone, string $message): void
    {
        try {
            $response = Http::post(
                "https://api.kavenegar.com/v1/{$this->apiKey}/sms/send.json",
                [
                    'receptor' => $phone,
                    'message'  => $message,
                    'sender'   => $this->sender,
                ]
            );

            if ($response->failed()) {
                throw new DriverConnectionException(
                    "Kavenegar API returned status {$response->status()}: {$response->body()}"
                );
            }

        } catch (DriverConnectionException $e) {
            throw $e;  // re-throw
        } catch (\Throwable $e) {
            throw new DriverConnectionException(
                message:  "Kavenegar connection failed: {$e->getMessage()}",
                previous: $e,
            );
        }
    }
}
```

### Û². Ø«Ø¨Øª Ø¯Ø± Config

```php
// config/sms.php
'drivers' => [
    'kavenegar' => [
        'class'       => \App\SmsDrivers\KavenegarDriver::class,
        'credentials' => [
            'api_key' => env('KAVENEGAR_API_KEY'),
            'sender'  => env('KAVENEGAR_SENDER', '10008663'),
        ],
    ],
],
```

### Û³. ØªÙ†Ø¸ÛŒÙ… Ù…ØªØºÛŒØ± Ù…Ø­ÛŒØ·ÛŒ

```dotenv
SMS_DRIVER=kavenegar
KAVENEGAR_API_KEY=your_api_key_here
KAVENEGAR_SENDER=10008663
```

### Û´. Ø§Ø³ØªÙØ§Ø¯Ù‡

```php
Sms::message('Ø³Ù„Ø§Ù…')->number('09120000000')->send();
```

---

## Ø§ÙØ²ÙˆØ¯Ù† Delivery Report

```php
<?php

namespace App\SmsDrivers;

use Karnoweb\SmsSender\Contracts\DeliveryReportFetcher;
use Karnoweb\SmsSender\Contracts\SmsDriver;
use Karnoweb\SmsSender\Exceptions\DriverConnectionException;

class KavenegarDriver implements SmsDriver, DeliveryReportFetcher
{
    // ... send() Ù…Ø«Ù„ Ø¨Ø§Ù„Ø§ ...

    public function fetchDeliveryReport(string $providerMessageId): array
    {
        try {
            $response = Http::get(
                "https://api.kavenegar.com/v1/{$this->apiKey}/sms/status.json",
                ['messageid' => $providerMessageId]
            );

            if ($response->failed()) {
                throw new DriverConnectionException("Status API failed.");
            }

            $entry  = $response->json('entries.0', []);
            $status = $entry['status'] ?? 0;

            return [
                'status' => match ($status) {
                    10     => 'delivered',
                    5, 6   => 'failed',
                    default => 'unknown',
                },
            ];

        } catch (DriverConnectionException $e) {
            throw $e;
        } catch (\Throwable $e) {
            throw new DriverConnectionException(
                message:  "Status check failed: {$e->getMessage()}",
                previous: $e,
            );
        }
    }
}
```

---

## Ú†Ú©â€ŒÙ„ÛŒØ³Øª Ø¯Ø±Ø§ÛŒÙˆØ± Ø³ÙØ§Ø±Ø´ÛŒ

| Ù…ÙˆØ±Ø¯ | Ø§Ù„Ø²Ø§Ù…ÛŒ | ØªÙˆØ¶ÛŒØ­ |
|------|--------|-------|
| `implements SmsDriver` | âœ… | Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ Ø§ØµÙ„ÛŒ |
| `__construct(array $config)` | âœ… | Ø¯Ø±ÛŒØ§ÙØª credentials |
| Ø®Ø·Ø§ÛŒ Ø§Ø±ØªØ¨Ø§Ø·ÛŒ â†’ `DriverConnectionException` | âœ… | Failover ÙØ¹Ø§Ù„ Ø´ÙˆØ¯ |
| Ø®Ø·Ø§ÛŒ config â†’ `InvalidDriverConfigurationException` | âœ… | Failover ÙØ¹Ø§Ù„ Ø´ÙˆØ¯ |
| `previous` Ø¯Ø± Exception Ù‡Ø§ | ğŸ“Œ ØªÙˆØµÛŒÙ‡ | Ø²Ù†Ø¬ÛŒØ±Ù‡â€ŒÛŒ debug |
| `implements DeliveryReportFetcher` | âŒ | ÙÙ‚Ø· Ø§Ú¯Ø± Ù‚Ø§Ø¨Ù„ÛŒØª Ø¯Ø§Ø±Ø¯ |

---

## Ø¨Ø¹Ø¯ÛŒ

â†’ [ØªØ³Øª](11-testing.md)
```

---

## `docs/11-testing.md`

```markdown
# 11 â€” ØªØ³Øª

## ØªØ³Øª Ø¯Ø± Ø§Ù¾Ù„ÛŒÚ©ÛŒØ´Ù†

### Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² NullDriver

Ø³Ø§Ø¯Ù‡â€ŒØªØ±ÛŒÙ† Ø±ÙˆØ´: Ø¯Ø± Ù…Ø­ÛŒØ· ØªØ³Øª Ø§Ø² Ø¯Ø±Ø§ÛŒÙˆØ± `null` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯:

```dotenv
# .env.testing
SMS_DRIVER=null
```

NullDriver Ù‡ÛŒÚ† Ù¾ÛŒØ§Ù…Ú©ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯ ÙˆÙ„ÛŒ Ù„Ø§Ú¯ Ø¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³ Ø«Ø¨Øª Ù…ÛŒâ€ŒØ´ÙˆØ¯.

---

### Ø¨Ø±Ø±Ø³ÛŒ Ø§Ø±Ø³Ø§Ù„ Ø¯Ø± ØªØ³Øª

```php
use Karnoweb\SmsSender\Facades\Sms;
use Karnoweb\SmsSender\Models\Sms as SmsModel;
use Karnoweb\SmsSender\Enums\SmsSendStatusEnum;

public function test_otp_is_sent_on_login(): void
{
    // Ø¹Ù…Ù„ÛŒØ§Øª Ù„Ø§Ú¯ÛŒÙ† Ú©Ù‡ Ø¨Ø§ÛŒØ¯ OTP Ø¨ÙØ±Ø³ØªØ¯
    $this->post('/api/login', ['phone' => '09120000000']);

    // Ø¨Ø±Ø±Ø³ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ù¾ÛŒØ§Ù…Ú© Ø«Ø¨Øª Ø´Ø¯Ù‡
    $this->assertDatabaseHas('sms_messages', [
        'phone'    => '09120000000',
        'template' => 'LOGIN_OTP',
        'status'   => SmsSendStatusEnum::SENT->value,
    ]);
}
```

---

### Mock Ú©Ø±Ø¯Ù† SmsManager

```php
use Karnoweb\SmsSender\SmsManager;
use Mockery;

public function test_sms_is_called(): void
{
    $mock = Mockery::mock(SmsManager::class);
    $mock->shouldReceive('message')->once()->andReturnSelf();
    $mock->shouldReceive('number')->once()->andReturnSelf();
    $mock->shouldReceive('send')->once();

    $this->app->instance(SmsManager::class, $mock);

    // Ú©Ø¯ÛŒ Ú©Ù‡ Ø§Ø² Sms:: Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
    $this->post('/api/notify', ['phone' => '09120000000']);
}
```

---

### Ø³Ø§Ø®Øª Fake Driver Ø¨Ø±Ø§ÛŒ ØªØ³Øª

```php
// tests/Fakes/TestSmsDriver.php
namespace Tests\Fakes;

use Karnoweb\SmsSender\Contracts\SmsDriver;

class TestSmsDriver implements SmsDriver
{
    public static array $sent = [];

    public function __construct(protected readonly array $config = []) {}

    public static function reset(): void { static::$sent = []; }

    public function send(string $phone, string $message): void
    {
        static::$sent[] = compact('phone', 'message');
    }
}
```

```php
// Ø¯Ø± ØªØ³Øª
protected function setUp(): void
{
    parent::setUp();

    TestSmsDriver::reset();

    config([
        'sms.default' => 'test',
        'sms.drivers.test' => [
            'class'       => TestSmsDriver::class,
            'credentials' => [],
        ],
    ]);
}

public function test_sms_content(): void
{
    Sms::message('Ú©Ø¯: 1234')->number('09120000000')->send();

    $this->assertCount(1, TestSmsDriver::$sent);
    $this->assertEquals('Ú©Ø¯: 1234', TestSmsDriver::$sent[0]['message']);
}
```

---

## Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù¾Ú©ÛŒØ¬

```bash
# Ú©Ù„ÙˆÙ† Ù¾Ø±ÙˆÚ˜Ù‡
git clone git@github.com:karnoweb/sms-sender.git
cd sms-sender

# Ù†ØµØ¨ ÙˆØ§Ø¨Ø³ØªÚ¯ÛŒâ€ŒÙ‡Ø§
composer install

# Ø§Ø¬Ø±Ø§ÛŒ Ù‡Ù…Ù‡â€ŒÛŒ ØªØ³Øªâ€ŒÙ‡Ø§
./vendor/bin/phpunit

# Ø§Ø¬Ø±Ø§ÛŒ ÛŒÚ© suite Ø®Ø§Øµ
./vendor/bin/phpunit --testsuite Unit
./vendor/bin/phpunit --testsuite Feature
./vendor/bin/phpunit --testsuite Integration

# Ø§Ø¬Ø±Ø§ÛŒ ÛŒÚ© ÙØ§ÛŒÙ„ Ø®Ø§Øµ
./vendor/bin/phpunit tests/Feature/FailoverTest.php

# Ø¨Ø§ coverage
./vendor/bin/phpunit --coverage-text
```

---

## Ø³Ø§Ø®ØªØ§Ø± ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù¾Ú©ÛŒØ¬

```
tests/
â”œâ”€â”€ TestCase.php                  Ú©Ù„Ø§Ø³ Ù¾Ø§ÛŒÙ‡ (Orchestra Testbench)
â”œâ”€â”€ Fakes/                        Ø¯Ø±Ø§ÛŒÙˆØ±Ù‡Ø§ÛŒ ØªØ³ØªÛŒ Ù…Ø´ØªØ±Ú©
â”‚   â”œâ”€â”€ RecordingDriver.php
â”‚   â”œâ”€â”€ FailingDriver.php
â”‚   â”œâ”€â”€ BuggyDriver.php
â”‚   â”œâ”€â”€ DeliveryReportDriver.php
â”‚   â””â”€â”€ FailingDeliveryReportDriver.php
â”œâ”€â”€ Unit/                         ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ ÙˆØ§Ø­Ø¯ (Ø³Ø±ÛŒØ¹)
â”‚   â”œâ”€â”€ Contracts/                Ø³Ø§Ø®ØªØ§Ø± Ø§ÛŒÙ†ØªØ±ÙÛŒØ³â€ŒÙ‡Ø§
â”‚   â”œâ”€â”€ Enums/                    ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§ Ùˆ Ù‚Ø§Ù„Ø¨â€ŒÙ‡Ø§
â”‚   â”œâ”€â”€ Exceptions/               Ø³Ù„Ø³Ù„Ù‡â€ŒÙ…Ø±Ø§ØªØ¨ Ø®Ø·Ø§Ù‡Ø§
â”‚   â”œâ”€â”€ Models/                   Ù…Ø¯Ù„ + scopes + helpers
â”‚   â”œâ”€â”€ Support/                  UsageHandler Ù‡Ø§
â”‚   â””â”€â”€ SmsManager/               Builder, Compiler, Driver, Reset
â”œâ”€â”€ Feature/                      ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ø¹Ù…Ù„Ú©Ø±Ø¯ÛŒ (Ø¨Ø§ Ø¯ÛŒØªØ§Ø¨ÛŒØ³)
â”‚   â”œâ”€â”€ ServiceProviderTest.php   Ø«Ø¨Øª Ø¯Ø± Container
â”‚   â”œâ”€â”€ SendTest.php              Ø§Ø±Ø³Ø§Ù„ ÙˆØ§Ù‚Ø¹ÛŒ
â”‚   â”œâ”€â”€ FailoverTest.php          Ø³ÙˆØ¦ÛŒÚ† Ø¨ÛŒÙ† Ø¯Ø±Ø§ÛŒÙˆØ±Ù‡Ø§
â”‚   â”œâ”€â”€ DeliveryReportTest.php    Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª ØªØ­ÙˆÛŒÙ„
â”‚   â””â”€â”€ UsageHandlerTest.php      Ú©Ù†ØªØ±Ù„ Ù…ØµØ±Ù
â””â”€â”€ Integration/                  ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ø³Ø±ØªØ§Ø³Ø±ÛŒ
    â”œâ”€â”€ EndToEndTest.php          Ú†Ø±Ø®Ù‡â€ŒÛŒ Ú©Ø§Ù…Ù„
    â”œâ”€â”€ CustomDriverTest.php      Ø¯Ø±Ø§ÛŒÙˆØ± Ø³ÙØ§Ø±Ø´ÛŒ
    â”œâ”€â”€ CustomModelTest.php       Ù…Ø¯Ù„ Ø³ÙØ§Ø±Ø´ÛŒ
    â””â”€â”€ ConcurrencyTest.php       Ø§Ø³ØªÙØ§Ø¯Ù‡â€ŒÛŒ Ù…Ø¬Ø¯Ø¯ Singleton
```

---

## Ø¨Ø¹Ø¯ÛŒ

â†’ [Ù…Ø±Ø¬Ø¹ API](12-api-reference.md)
```

---

## `docs/12-api-reference.md`

```markdown
# 12 â€” Ù…Ø±Ø¬Ø¹ API

## `SmsManager` â€” Ú©Ù„Ø§Ø³ Ø§ØµÙ„ÛŒ

### Builder Methods

| Ù…ØªØ¯ | Ù¾Ø§Ø±Ø§Ù…ØªØ± | Ø®Ø±ÙˆØ¬ÛŒ | ØªÙˆØ¶ÛŒØ­ |
|-----|---------|-------|-------|
| `message(string $message)` | Ù…ØªÙ† Ù¾ÛŒØ§Ù…Ú© | `static` | ØªÙ†Ø¸ÛŒÙ… Ù…ØªÙ† Ø³Ø§Ø¯Ù‡ (Ø§ÙˆÙ„ÙˆÛŒØª Ø¨Ø± template) |
| `otp(SmsTemplateEnum $template)` | Ù‚Ø§Ù„Ø¨ Enum | `static` | ØªÙ†Ø¸ÛŒÙ… Ù‚Ø§Ù„Ø¨ OTP |
| `input(string $key, string $value)` | Ú©Ù„ÛŒØ¯ØŒ Ù…Ù‚Ø¯Ø§Ø± | `static` | Ø§ÙØ²ÙˆØ¯Ù† ÛŒÚ© ÙˆØ±ÙˆØ¯ÛŒ template |
| `inputs(array $inputs)` | Ø¢Ø±Ø§ÛŒÙ‡â€ŒÛŒ ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§ | `static` | Ø§ÙØ²ÙˆØ¯Ù† Ú†Ù†Ø¯ ÙˆØ±ÙˆØ¯ÛŒ (merge) |
| `number(string $phone)` | Ø´Ù…Ø§Ø±Ù‡ | `static` | Ø§ÙØ²ÙˆØ¯Ù† ÛŒÚ© Ú¯ÛŒØ±Ù†Ø¯Ù‡ |
| `numbers(array $phones)` | Ø¢Ø±Ø§ÛŒÙ‡â€ŒÛŒ Ø´Ù…Ø§Ø±Ù‡â€ŒÙ‡Ø§ | `static` | Ø§ÙØ²ÙˆØ¯Ù† Ú†Ù†Ø¯ Ú¯ÛŒØ±Ù†Ø¯Ù‡ |

### Action Methods

| Ù…ØªØ¯ | Ù¾Ø§Ø±Ø§Ù…ØªØ± | Ø®Ø±ÙˆØ¬ÛŒ | ØªÙˆØ¶ÛŒØ­ |
|-----|---------|-------|-------|
| `send()` | â€” | `void` | Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù…Ú© + Ø±ÛŒØ³Øª state |
| `checkStatus()` | â€” | `array` | Ø¨Ø±Ø±Ø³ÛŒ ÙˆØ¶Ø¹ÛŒØª ØªØ­ÙˆÛŒÙ„ + Ø±ÛŒØ³Øª state |

### Static Methods

| Ù…ØªØ¯ | Ø®Ø±ÙˆØ¬ÛŒ | ØªÙˆØ¶ÛŒØ­ |
|-----|-------|-------|
| `instance()` | `static` | Ø¯Ø±ÛŒØ§ÙØª instance Ø§Ø² Container |

---

## `Sms` â€” Facade

ØªÙ…Ø§Ù… Ù…ØªØ¯Ù‡Ø§ÛŒ `SmsManager` Ø§Ø² Ø·Ø±ÛŒÙ‚ Facade Ù‚Ø§Ø¨Ù„ Ø¯Ø³ØªØ±Ø³ÛŒ Ù‡Ø³ØªÙ†Ø¯:

```php
use Karnoweb\SmsSender\Facades\Sms;

Sms::message('...')->number('...')->send();
Sms::number('...')->checkStatus();
```

---

## Contracts

### `SmsDriver`

```php
interface SmsDriver
{
    public function send(string $phone, string $message): void;
}
```

### `DeliveryReportFetcher`

```php
interface DeliveryReportFetcher
{
    public function fetchDeliveryReport(string $providerMessageId): array;
}
```

Ø®Ø±ÙˆØ¬ÛŒ `fetchDeliveryReport`:

```php
[
    'status' => 'delivered',     // delivered | failed | unknown
    'delivered_at' => '...',     // Ø§Ø®ØªÛŒØ§Ø±ÛŒ
]
```

### `SmsUsageHandler`

```php
interface SmsUsageHandler
{
    public function ensureUsable(string $driverName, SmsDriver $driver): void;
}
```

---

## Enums

### `SmsSendStatusEnum`

| Case | Value | Terminal | ØªÙˆØ¶ÛŒØ­ |
|------|-------|----------|-------|
| `PENDING` | `'pending'` | âŒ | Ù…Ù†ØªØ¸Ø± Ø§Ø±Ø³Ø§Ù„ |
| `SENT` | `'sent'` | âŒ | Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯Ù‡ |
| `DELIVERED` | `'delivered'` | âœ… | ØªØ­ÙˆÛŒÙ„ Ø´Ø¯Ù‡ |
| `FAILED` | `'failed'` | âœ… | Ù†Ø§Ù…ÙˆÙÙ‚ |

**Ù…ØªØ¯Ù‡Ø§:**

| Ù…ØªØ¯ | Ø®Ø±ÙˆØ¬ÛŒ | ØªÙˆØ¶ÛŒØ­ |
|-----|-------|-------|
| `label()` | `string` | Ø¨Ø±Ú†Ø³Ø¨ ÙØ§Ø±Ø³ÛŒ |
| `isTerminal()` | `bool` | Ø¢ÛŒØ§ ÙˆØ¶Ø¹ÛŒØª Ù†Ù‡Ø§ÛŒÛŒ Ø§Ø³ØªØŸ |
| `checkable()` | `array` | ÙˆØ¶Ø¹ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù‚Ø§Ø¨Ù„ Ø¨Ø±Ø±Ø³ÛŒ |

### `SmsTemplateEnum`

| Case | Value |
|------|-------|
| `LOGIN_OTP` | `'Ú©Ø¯ ÙˆØ±ÙˆØ¯ Ø´Ù…Ø§: {code}'` |
| `VERIFY_PHONE` | `'Ú©Ø¯ ØªØ£ÛŒÛŒØ¯ Ø´Ù…Ø§Ø±Ù‡: {code}'` |
| `PASSWORD_RESET` | `'Ú©Ø¯ Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±: {code}'` |

**Ù…ØªØ¯Ù‡Ø§:**

| Ù…ØªØ¯ | Ø®Ø±ÙˆØ¬ÛŒ | ØªÙˆØ¶ÛŒØ­ |
|-----|-------|-------|
| `placeholders()` | `array<string>` | Ù„ÛŒØ³Øª placeholder Ù‡Ø§ |

---

## Ù…Ø¯Ù„ `Sms`

### ÙÛŒÙ„Ø¯Ù‡Ø§

| ÙÛŒÙ„Ø¯ | Ù†ÙˆØ¹ | Nullable | ØªÙˆØ¶ÛŒØ­ |
|------|-----|----------|-------|
| `id` | `int` | âŒ | Ø´Ù†Ø§Ø³Ù‡ |
| `driver` | `string` | âŒ | Ù†Ø§Ù… Ø¯Ø±Ø§ÛŒÙˆØ± |
| `template` | `string` | âœ… | Ù†Ø§Ù… Ù‚Ø§Ù„Ø¨ |
| `inputs` | `array` | âœ… | ÙˆØ±ÙˆØ¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ù‚Ø§Ù„Ø¨ (JSON) |
| `phone` | `string` | âŒ | Ø´Ù…Ø§Ø±Ù‡â€ŒÛŒ Ú¯ÛŒØ±Ù†Ø¯Ù‡ |
| `message` | `string` | âŒ | Ù…ØªÙ† Ù†Ù‡Ø§ÛŒÛŒ |
| `provider_message_id` | `string` | âœ… | Ø´Ù†Ø§Ø³Ù‡ Ø¯Ø± Ø³Ø±ÙˆÛŒØ³â€ŒØ¯Ù‡Ù†Ø¯Ù‡ |
| `status` | `SmsSendStatusEnum` | âŒ | ÙˆØ¶Ø¹ÛŒØª |
| `metadata` | `array` | âœ… | Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø¶Ø§ÙÛŒ (JSON) |
| `created_at` | `Carbon` | âŒ | Ø²Ù…Ø§Ù† Ø§ÛŒØ¬Ø§Ø¯ |
| `updated_at` | `Carbon` | âŒ | Ø²Ù…Ø§Ù† Ø¢Ø®Ø±ÛŒÙ† ØªØºÛŒÛŒØ± |

### Scopes

| Scope | Ù¾Ø§Ø±Ø§Ù…ØªØ± | ØªÙˆØ¶ÛŒØ­ |
|-------|---------|-------|
| `checkable()` | â€” | ÙÙ‚Ø· `PENDING` Ùˆ `SENT` |
| `forDriver(string $name)` | Ù†Ø§Ù… Ø¯Ø±Ø§ÛŒÙˆØ± | ÙÛŒÙ„ØªØ± Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¯Ø±Ø§ÛŒÙˆØ± |
| `forPhone(string $phone)` | Ø´Ù…Ø§Ø±Ù‡ | ÙÛŒÙ„ØªØ± Ø¨Ø± Ø§Ø³Ø§Ø³ Ø´Ù…Ø§Ø±Ù‡ |

### Helper Methods

| Ù…ØªØ¯ | Ù¾Ø§Ø±Ø§Ù…ØªØ± | Ø®Ø±ÙˆØ¬ÛŒ | ØªÙˆØ¶ÛŒØ­ |
|-----|---------|-------|-------|
| `isTerminal()` | â€” | `bool` | Ø¢ÛŒØ§ ÙˆØ¶Ø¹ÛŒØª Ù†Ù‡Ø§ÛŒÛŒ Ø§Ø³ØªØŸ |
| `hasProviderMessageId()` | â€” | `bool` | Ø¢ÛŒØ§ Ø´Ù†Ø§Ø³Ù‡â€ŒÛŒ Ø³Ø±ÙˆÛŒØ³â€ŒØ¯Ù‡Ù†Ø¯Ù‡ Ø¯Ø§Ø±Ø¯ØŸ |
| `markAsSent(?string $providerMessageId)` | Ø´Ù†Ø§Ø³Ù‡ | `bool` | ÙˆØ¶Ø¹ÛŒØª â†’ SENT |
| `markAsFailed(?string $reason)` | Ø¯Ù„ÛŒÙ„ | `bool` | ÙˆØ¶Ø¹ÛŒØª â†’ FAILED |
| `markAsDelivered()` | â€” | `bool` | ÙˆØ¶Ø¹ÛŒØª â†’ DELIVERED |

---

## Exceptions

### Ø³Ù„Ø³Ù„Ù‡â€ŒÙ…Ø±Ø§ØªØ¨

```
RuntimeException
â””â”€â”€ SmsException
    â”œâ”€â”€ InvalidDriverConfigurationException
    â”œâ”€â”€ DriverConnectionException
    â””â”€â”€ DriverNotAvailableException
```

### Ø¬Ø¯ÙˆÙ„

| Exception | Ú©ÛŒ Ù¾Ø±ØªØ§Ø¨ Ù…ÛŒâ€ŒØ´ÙˆØ¯ | Failover |
|-----------|-----------------|----------|
| `InvalidDriverConfigurationException` | config Ù†Ø§Ù…Ø¹ØªØ¨Ø±ØŒ Ø¨Ø¯ÙˆÙ† Ú¯ÛŒØ±Ù†Ø¯Ù‡ØŒ Ø¨Ø¯ÙˆÙ† Ù¾ÛŒØ§Ù… | âœ… |
| `DriverConnectionException` | Ø®Ø·Ø§ÛŒ Ø§Ø±ØªØ¨Ø§Ø·ÛŒ Ø¨Ø§ Ø³Ø±ÙˆÛŒØ³â€ŒØ¯Ù‡Ù†Ø¯Ù‡ | âœ… |
| `DriverNotAvailableException` | Ù‡ÛŒÚ† Ø¯Ø±Ø§ÛŒÙˆØ±ÛŒ Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ù†ÛŒØ³Øª / ØºÛŒØ±ÙØ¹Ø§Ù„ / Ù…Ø­Ø¯ÙˆØ¯ÛŒØª | âœ… |

### Catch-all

```php
try {
    Sms::message('...')->number('...')->send();
} catch (SmsException $e) {
    // ØªÙ…Ø§Ù… Ø®Ø·Ø§Ù‡Ø§ÛŒ SMS
}
```

---

## Config Keys

| Ú©Ù„ÛŒØ¯ | Ù†ÙˆØ¹ | Ù¾ÛŒØ´â€ŒÙØ±Ø¶ | ØªÙˆØ¶ÛŒØ­ |
|------|-----|---------|-------|
| `sms.default` | `string` | `'null'` | Ø¯Ø±Ø§ÛŒÙˆØ± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ |
| `sms.failover` | `array` | `[]` | Ø¯Ø±Ø§ÛŒÙˆØ±Ù‡Ø§ÛŒ Failover |
| `sms.drivers` | `array` | `[...]` | ØªØ¹Ø±ÛŒÙ Ø¯Ø±Ø§ÛŒÙˆØ±Ù‡Ø§ |
| `sms.model` | `string` | `Sms::class` | Ú©Ù„Ø§Ø³ Ù…Ø¯Ù„ Ù„Ø§Ú¯ |
| `sms.table` | `string` | `'sms_messages'` | Ù†Ø§Ù… Ø¬Ø¯ÙˆÙ„ |
| `sms.usage_handler` | `string\|null` | `null` | Ú©Ù„Ø§Ø³ UsageHandler |
```

---

## `README.md` (Ø±ÛŒØ´Ù‡â€ŒÛŒ Ù¾Ø±ÙˆÚ˜Ù‡)

```markdown
# ğŸ“± SMS Sender for Laravel

A fluent SMS manager for Laravel with multi-driver support and automatic failover.

[![PHP](https://img.shields.io/badge/PHP-8.2%2B-blue)]()
[![Laravel](https://img.shields.io/badge/Laravel-11.x%20|%2012.x-red)]()
[![License](https://img.shields.io/badge/License-MIT-green)]()

---

## âœ¨ Features

- ğŸ”— **Fluent API** â€” Chainable, readable interface
- ğŸ”„ **Auto Failover** â€” Automatic switch between SMS providers
- ğŸ“ **Logging** â€” Every attempt logged to database
- ğŸ“Š **Delivery Reports** â€” Check message delivery status
- ğŸ”Œ **Extensible** â€” Add custom drivers with a single interface
- âš™ï¸ **Usage Control** â€” Daily/monthly limits per driver

## ğŸš€ Quick Start

```bash
composer require karnoweb/sms-sender
php artisan vendor:publish --tag=sms-config
php artisan vendor:publish --tag=sms-migrations
php artisan migrate
```

```php
use Karnoweb\SmsSender\Facades\Sms;

// Simple message
Sms::message('Hello World')
    ->number('09120000000')
    ->send();

// OTP
Sms::otp(SmsTemplateEnum::LOGIN_OTP)
    ->input('code', '1234')
    ->number('09120000000')
    ->send();

// Multiple recipients
Sms::message('Announcement')
    ->numbers(['09121111111', '09122222222'])
    ->send();

// Check delivery status
$results = Sms::number('09120000000')->checkStatus();
```

## ğŸ“– Documentation

Full documentation available in the [`docs/`](docs/00-index.md) directory.

| # | Topic |
|---|-------|
| 01 | [Overview](docs/01-overview.md) |
| 02 | [Installation](docs/02-installation.md) |
| 03 | [Configuration](docs/03-configuration.md) |
| 04 | [Basic Usage](docs/04-basic-usage.md) |
| 05 | [Templates](docs/05-templates.md) |
| 06 | [Drivers](docs/06-drivers.md) |
| 07 | [Failover](docs/07-failover.md) |
| 08 | [Delivery Reports](docs/08-delivery-report.md) |
| 09 | [Usage Control](docs/09-usage-handler.md) |
| 10 | [Custom Drivers](docs/10-custom-driver.md) |
| 11 | [Testing](docs/11-testing.md) |
| 12 | [API Reference](docs/12-api-reference.md) |

## ğŸ§ª Testing

```bash
./vendor/bin/phpunit
```

## ğŸ“„ License

MIT License. See [LICENSE](LICENSE) for details.
```

---

## âœ… Ú†Ú©â€ŒÙ„ÛŒØ³Øª ÙØ§Ø² Û¸

| Ø¢ÛŒØªÙ… | ÙˆØ¶Ø¹ÛŒØª |
|---|---|
| `00-index.md` â€” ÙÙ‡Ø±Ø³Øª Ù…Ø·Ø§Ù„Ø¨ + Ø´Ø±ÙˆØ¹ Ø³Ø±ÛŒØ¹ | âœ… |
| `01-overview.md` â€” Ù‡Ø¯ÙØŒ ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ØŒ Ù…Ø¹Ù…Ø§Ø±ÛŒØŒ Ø§Ù„Ø²Ø§Ù…Ø§Øª | âœ… |
| `02-installation.md` â€” Composer, publish, migrate, Ø¨Ø±Ø±Ø³ÛŒ Ù†ØµØ¨ | âœ… |
| `03-configuration.md` â€” Ø³Ø§Ø®ØªØ§Ø± config Ú©Ø§Ù…Ù„ Ø¨Ø§ Ø¬Ø¯ÙˆÙ„ Ùˆ Ù†Ù…ÙˆÙ†Ù‡ | âœ… |
| `04-basic-usage.md` â€” Û³ Ø±ÙˆØ´ Ø¯Ø³ØªØ±Ø³ÛŒ, Ø§Ø±Ø³Ø§Ù„ Ø³Ø§Ø¯Ù‡, Ø®Ø·Ø§, Ù„Ø§Ú¯ | âœ… |
| `05-templates.md` â€” Placeholder, Enum, inputs, Ø§ÙˆÙ„ÙˆÛŒØª, Ø³ÙØ§Ø±Ø´ÛŒâ€ŒØ³Ø§Ø²ÛŒ | âœ… |
| `06-drivers.md` â€” Ø§ÛŒÙ†ØªØ±ÙÛŒØ³, NullDriver, resolve, DeliveryReportFetcher | âœ… |
| `07-failover.md` â€” Ù…ÙÙ‡ÙˆÙ…, config, Ø¬Ø¯ÙˆÙ„ Ø®Ø·Ø§Ù‡Ø§, Ù„Ø§Ú¯, Ù†Ù…ÙˆÙ†Ù‡ | âœ… |
| `08-delivery-report.md` â€” Ø§Ø³ØªÙØ§Ø¯Ù‡, Ø³Ø§Ø®ØªØ§Ø± Ø®Ø±ÙˆØ¬ÛŒ, Ù¾ÛŒØ´â€ŒÙ†ÛŒØ§Ø²Ù‡Ø§, Ø®Ø·Ø§ | âœ… |
| `09-usage-handler.md` â€” ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ, ØªÙ†Ø¸ÛŒÙ…Ø§Øª, Ø´Ù…Ø§Ø±Ø´, Ø³ÙØ§Ø±Ø´ÛŒ | âœ… |
| `10-custom-driver.md` â€” Ù…Ø±Ø§Ø­Ù„ Ø³Ø§Ø®Øª, Delivery Report, Ú†Ú©â€ŒÙ„ÛŒØ³Øª | âœ… |
| `11-testing.md` â€” NullDriver, Mock, Fake, Ø§Ø¬Ø±Ø§ÛŒ ØªØ³Øªâ€ŒÙ‡Ø§, Ø³Ø§Ø®ØªØ§Ø± | âœ… |
| `12-api-reference.md` â€” Ù…ØªØ¯Ù‡Ø§, Contracts, Enums, Model, Exceptions, Config | âœ… |
| `README.md` â€” Ø´Ø±ÙˆØ¹ Ø³Ø±ÛŒØ¹ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ, badges, Ù„ÛŒÙ†Ú© Ø¨Ù‡ docs | âœ… |

---

**ğŸ‰ ØªÙ…Ø§Ù… Û¸ ÙØ§Ø² Ù¾Ú©ÛŒØ¬ SMS Sender Ú©Ø§Ù…Ù„ Ø´Ø¯!**

### Ø®Ù„Ø§ØµÙ‡â€ŒÛŒ ÙØ§Ø²Ù‡Ø§:

| ÙØ§Ø² | Ø¹Ù†ÙˆØ§Ù† | ÙˆØ¶Ø¹ÛŒØª |
|-----|-------|-------|
| Û± | Ø§Ø³Ú©Ù„Øª Ù¾Ú©ÛŒØ¬ Ùˆ Config | âœ… |
| Û² | Contracts Ùˆ Exceptions | âœ… |
| Û³ | Ù…Ø¯Ù„ØŒ Migration Ùˆ Enum | âœ… |
| Û´ | Ù‡Ø³ØªÙ‡â€ŒÛŒ SmsManager (Builder, Send, Failover) | âœ… |
| Ûµ | Delivery Report (checkStatus) | âœ… |
| Û¶ | UsageHandler (Ú©Ù†ØªØ±Ù„ Ù…ØµØ±Ù) | âœ… |
| Û· | ØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ù†Ù‡Ø§ÛŒÛŒ Ùˆ Ø¬Ø§Ù…Ø¹ (~Û±Û·Û¶ ØªØ³Øª) | âœ… |
| Û¸ | Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†ØªÛŒØ´Ù† Ø¬Ø§Ù…Ø¹ (Û±Û³ ÙØ§ÛŒÙ„ + README) | âœ… |